{"ast":null,"code":"import { Investor } from 'src/app/models/investor.model';\nimport { Portfolio } from 'src/app/models/portfolio.model';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/portfolio.service\";\nimport * as i2 from \"@ng-bootstrap/ng-bootstrap\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"angular-datatables\";\nimport * as i6 from \"ng-apexcharts\";\nconst _c0 = function (a0, a1) {\n  return {\n    \"text-danger\": a0,\n    \"text-success\": a1\n  };\n};\nfunction PortfolioComponent_div_0_tr_46_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\");\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"td\");\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"td\", 10);\n    i0.ɵɵtext(13);\n    i0.ɵɵpipe(14, \"number\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const company_r6 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(company_r6.tradeCode);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(5, 7, company_r6.buyingDate, \"dd-MM-yyyy\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(company_r6.BuyingPrice);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(company_r6.LTP);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(company_r6.volume);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(13, _c0, company_r6.profit < 0, company_r6.profit > 0));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(14, 10, company_r6.profit, \"1.2-2\"), \" \");\n  }\n}\nfunction PortfolioComponent_div_0_tr_63_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\")(8, \"button\", 11);\n    i0.ɵɵlistener(\"click\", function PortfolioComponent_div_0_tr_63_Template_button_click_8_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r11);\n      const i_r9 = restoredCtx.index;\n      const ctx_r10 = i0.ɵɵnextContext(2);\n      const _r1 = i0.ɵɵreference(2);\n      return i0.ɵɵresetView(ctx_r10.open(_r1, i_r9));\n    });\n    i0.ɵɵtext(9, \"Sell\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const company_r8 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(company_r8.tradeCode);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(company_r8.LTP);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(company_r8.volumeCumulative);\n  }\n}\nfunction PortfolioComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 3)(1, \"div\")(2, \"h1\");\n    i0.ɵɵtext(3, \"Portfolio\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"div\", 4);\n    i0.ɵɵelement(5, \"br\")(6, \"br\");\n    i0.ɵɵelementStart(7, \"h4\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(9, \"br\");\n    i0.ɵɵelementStart(10, \"p\");\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"p\");\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"p\");\n    i0.ɵɵtext(15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"p\");\n    i0.ɵɵtext(17);\n    i0.ɵɵpipe(18, \"number\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(19, \"div\", 5);\n    i0.ɵɵelement(20, \"br\")(21, \"br\");\n    i0.ɵɵelementStart(22, \"h3\");\n    i0.ɵɵtext(23, \"Shareholding Ratio\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(24, \"apx-chart\", 6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"div\", 7)(26, \"h3\");\n    i0.ɵɵtext(27, \"My shares\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(28, \"br\")(29, \"br\");\n    i0.ɵɵelementStart(30, \"table\", 8)(31, \"thead\")(32, \"tr\")(33, \"th\");\n    i0.ɵɵtext(34, \"Trade Code\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(35, \"th\");\n    i0.ɵɵtext(36, \"Buying Date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(37, \"th\");\n    i0.ɵɵtext(38, \"Buying Price\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(39, \"th\");\n    i0.ɵɵtext(40, \"LTP\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(41, \"th\");\n    i0.ɵɵtext(42, \"Volume\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(43, \"th\");\n    i0.ɵɵtext(44, \"Profit\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(45, \"tbody\");\n    i0.ɵɵtemplate(46, PortfolioComponent_div_0_tr_46_Template, 15, 16, \"tr\", 9);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(47, \"div\", 7)(48, \"h3\");\n    i0.ɵɵtext(49, \"Sell shares\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(50, \"br\")(51, \"br\");\n    i0.ɵɵelementStart(52, \"table\", 8)(53, \"thead\")(54, \"tr\")(55, \"th\");\n    i0.ɵɵtext(56, \"Trade Code\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(57, \"th\");\n    i0.ɵɵtext(58, \"LTP\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(59, \"th\");\n    i0.ɵɵtext(60, \"Total Volume\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(61, \"th\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(62, \"tbody\");\n    i0.ɵɵtemplate(63, PortfolioComponent_div_0_tr_63_Template, 10, 3, \"tr\", 9);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(8);\n    i0.ɵɵtextInterpolate1(\"Name: \", ctx_r0.user.name, \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"BO Account no: \", ctx_r0.user.BO_account_no, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Phone no: +880\", ctx_r0.user.phone, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Email: \", ctx_r0.user.email, \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵstyleProp(\"color\", ctx_r0.totalProfit < 0 ? \"red\" : \"green\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"Profit: \", i0.ɵɵpipeBind2(18, 14, ctx_r0.totalProfit, \"1.2-2\"), \" Tk\");\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"series\", ctx_r0.pieChart.series)(\"chart\", ctx_r0.pieChart.chart)(\"labels\", ctx_r0.pieChart.labels);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"dtOptions\", ctx_r0.dtOptions);\n    i0.ɵɵadvance(16);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.list);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"dtOptions\", ctx_r0.dtOptions2);\n    i0.ɵɵadvance(11);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.list2);\n  }\n}\nfunction PortfolioComponent_ng_template_1_div_18_small_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\");\n    i0.ɵɵtext(1, \"Price is required.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction PortfolioComponent_ng_template_1_div_18_small_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\");\n    i0.ɵɵtext(1, \"Price must be a positive value.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction PortfolioComponent_ng_template_1_div_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, PortfolioComponent_ng_template_1_div_18_small_1_Template, 2, 0, \"small\", 23);\n    i0.ɵɵtemplate(2, PortfolioComponent_ng_template_1_div_18_small_2_Template, 2, 0, \"small\", 23);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r14 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r14.myForm.controls[\"price\"] == null ? null : ctx_r14.myForm.controls[\"price\"].errors == null ? null : ctx_r14.myForm.controls[\"price\"].errors[\"required\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r14.myForm.controls[\"price\"] == null ? null : ctx_r14.myForm.controls[\"price\"].errors == null ? null : ctx_r14.myForm.controls[\"price\"].errors[\"min\"]);\n  }\n}\nfunction PortfolioComponent_ng_template_1_div_23_small_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\");\n    i0.ɵɵtext(1, \"Quantity is required.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction PortfolioComponent_ng_template_1_div_23_small_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\");\n    i0.ɵɵtext(1, \"Quantity must be a positive value.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction PortfolioComponent_ng_template_1_div_23_small_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r20 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"Quantity cannot be greater than \", ctx_r20.company.volume, \".\");\n  }\n}\nfunction PortfolioComponent_ng_template_1_div_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, PortfolioComponent_ng_template_1_div_23_small_1_Template, 2, 0, \"small\", 23);\n    i0.ɵɵtemplate(2, PortfolioComponent_ng_template_1_div_23_small_2_Template, 2, 0, \"small\", 23);\n    i0.ɵɵtemplate(3, PortfolioComponent_ng_template_1_div_23_small_3_Template, 2, 1, \"small\", 23);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r15 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r15.myForm.controls[\"quantity\"].hasError(\"required\"));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r15.myForm.controls[\"quantity\"].hasError(\"min\"));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r15.myForm.controls[\"quantity\"].hasError(\"max\"));\n  }\n}\nfunction PortfolioComponent_ng_template_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r22 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 12)(1, \"h4\", 13);\n    i0.ɵɵtext(2, \"Order\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 14);\n    i0.ɵɵlistener(\"click\", function PortfolioComponent_ng_template_1_Template_button_click_3_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r22);\n      const d_r13 = restoredCtx.dismiss;\n      return i0.ɵɵresetView(d_r13(\"Cross click\"));\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"div\", 15)(5, \"form\", 16)(6, \"div\", 17)(7, \"label\", 18);\n    i0.ɵɵtext(8, \"Trade Code:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"input\", 19);\n    i0.ɵɵlistener(\"ngModelChange\", function PortfolioComponent_ng_template_1_Template_input_ngModelChange_9_listener($event) {\n      i0.ɵɵrestoreView(_r22);\n      const ctx_r23 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r23.order.tradeCode = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"div\", 17)(11, \"label\", 18);\n    i0.ɵɵtext(12, \"Order Type\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(13, \"input\", 20);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"div\", 17)(15, \"label\", 21);\n    i0.ɵɵtext(16, \"Price:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(17, \"input\", 22);\n    i0.ɵɵtemplate(18, PortfolioComponent_ng_template_1_div_18_Template, 3, 2, \"div\", 23);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"div\", 17)(20, \"label\", 24);\n    i0.ɵɵtext(21, \"Quantity:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(22, \"input\", 25);\n    i0.ɵɵtemplate(23, PortfolioComponent_ng_template_1_div_23_Template, 4, 3, \"div\", 23);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(24, \"br\");\n    i0.ɵɵelementStart(25, \"button\", 26);\n    i0.ɵɵlistener(\"click\", function PortfolioComponent_ng_template_1_Template_button_click_25_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r22);\n      const c_r12 = restoredCtx.close;\n      const ctx_r24 = i0.ɵɵnextContext();\n      ctx_r24.sell();\n      return i0.ɵɵresetView(c_r12(\"Save click\"));\n    });\n    i0.ɵɵtext(26, \"Place Order\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"formGroup\", ctx_r2.myForm);\n    i0.ɵɵadvance(4);\n    i0.ɵɵpropertyInterpolate(\"placeholder\", ctx_r2.company.tradeCode);\n    i0.ɵɵproperty(\"ngModel\", ctx_r2.order.tradeCode);\n    i0.ɵɵadvance(8);\n    i0.ɵɵpropertyInterpolate(\"placeholder\", ctx_r2.company.BuyingPrice);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.myForm.controls[\"price\"].invalid && (ctx_r2.myForm.controls[\"price\"].dirty || ctx_r2.myForm.controls[\"price\"].touched));\n    i0.ɵɵadvance(4);\n    i0.ɵɵpropertyInterpolate(\"placeholder\", ctx_r2.company.volumeCumulative);\n    i0.ɵɵpropertyInterpolate(\"max\", ctx_r2.company.volumeCumulative);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.myForm.controls[\"quantity\"].invalid && (ctx_r2.myForm.controls[\"quantity\"].dirty || ctx_r2.myForm.controls[\"quantity\"].touched));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"disabled\", ctx_r2.myForm.invalid);\n  }\n}\nfunction PortfolioComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 27)(1, \"h1\");\n    i0.ɵɵtext(2, \"You don't have access!\");\n    i0.ɵɵelementEnd()();\n  }\n}\nexport class PortfolioComponent {\n  constructor(portfolioService, modalService) {\n    this.portfolioService = portfolioService;\n    this.modalService = modalService;\n    this.company = new Portfolio();\n    this.order = new Portfolio();\n    this.list = [];\n    this.list2 = [];\n    this.list3 = [];\n    this.mergedList = [];\n    this.user = new Investor();\n    this.isAuthenticated = true;\n    this.totalProfit = 0;\n    this.dtOptions = {};\n    this.dtOptions2 = {};\n  }\n  // dtTrigger: Subject<any> = new Subject<any>();\n  ngOnInit() {\n    console.log(this.isAuthenticated);\n    this.list = this.portfolioService.getPortfolio();\n    this.user.name = \"Abu Tabu\";\n    this.user.BO_account_no = 123456789012345679n;\n    this.user.phone = 16276527652864n;\n    this.user.email = \"bsse1216@iit.du.ac.bd\";\n    for (let company of this.list) {\n      this.totalProfit += company.profit;\n    }\n    // const tradeCodes = ['AAPL', 'GOOG', 'MSFT', 'AAPL', 'GOOG'];\n    // const uniqueTradeCodes = [...new Set(tradeCodes)];\n    // console.log(uniqueTradeCodes); // ['AAPL', 'GOOG', 'MSFT']\n    for (const portfolio of this.list) {\n      const matchingPortfolio = this.list2.find(p => p.tradeCode === portfolio.tradeCode);\n      if (matchingPortfolio) {\n        matchingPortfolio.volumeCumulative += portfolio.volumeCumulative;\n      } else {\n        this.list2.push({\n          ...portfolio\n        });\n      }\n    }\n    this.renderPieChart();\n    this.renderTable();\n    // this.processData();\n  }\n\n  renderTable() {\n    this.dtOptions = {\n      pagingType: 'full_numbers',\n      searching: false,\n      // ordering:false,\n      columnDefs: [{\n        targets: [1, 2, 3, 4, 5],\n        orderable: false\n      }, {\n        targets: [0],\n        orderable: true\n      }]\n    };\n    this.dtOptions2 = {\n      pagingType: 'full_numbers',\n      searching: false\n    };\n  }\n  renderPieChart() {\n    this.pieChart = {\n      chart: {\n        type: 'pie',\n        width: '65%'\n      },\n      series: this.list2.map(d => d.volumeCumulative),\n      labels: this.list2.map(d => d.tradeCode)\n    };\n  }\n  sell() {}\n  open(content, i) {\n    this.company = this.list[i];\n    this.myForm = new FormGroup({\n      'price': new FormControl(null, [Validators.required]),\n      'quantity': new FormControl(null, [Validators.required, Validators.min(0), Validators.max(this.company.volume)])\n    });\n    this.modalService.open(content);\n  }\n}\nPortfolioComponent.ɵfac = function PortfolioComponent_Factory(t) {\n  return new (t || PortfolioComponent)(i0.ɵɵdirectiveInject(i1.PortfolioService), i0.ɵɵdirectiveInject(i2.NgbModal));\n};\nPortfolioComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: PortfolioComponent,\n  selectors: [[\"app-portfolio\"]],\n  decls: 4,\n  vars: 2,\n  consts: [[\"class\", \"container\", 4, \"ngIf\"], [\"content\", \"\"], [\"id\", \"denied\", \"class\", \"container\", 4, \"ngIf\"], [1, \"container\"], [\"id\", \"left1\"], [\"id\", \"right1\"], [3, \"series\", \"chart\", \"labels\"], [\"id\", \"total1\"], [\"datatable\", \"\", 1, \"table\", \"table-hover\", 3, \"dtOptions\"], [4, \"ngFor\", \"ngForOf\"], [3, \"ngClass\"], [1, \"btn\", \"btn-primary\", 3, \"click\"], [1, \"modal-header\"], [\"id\", \"modal-basic-title\", 1, \"modal-title\"], [\"type\", \"button\", \"aria-label\", \"Close\", 1, \"btn-close\", 3, \"click\"], [1, \"modal-body\"], [3, \"formGroup\"], [1, \"form-group\"], [\"for\", \"tradeCode\"], [\"type\", \"text\", \"id\", \"tradeCode\", \"disabled\", \"\", 1, \"form-control\", 3, \"ngModel\", \"placeholder\", \"ngModelChange\"], [\"type\", \"text\", \"id\", \"type\", \"placeholder\", \"Sell\", \"disabled\", \"\", 1, \"form-control\"], [\"for\", \"price\"], [\"type\", \"number\", \"id\", \"price\", \"formControlName\", \"price\", \"required\", \"\", 1, \"form-control\", 3, \"placeholder\"], [4, \"ngIf\"], [\"for\", \"quantity\"], [\"type\", \"number\", \"id\", \"quantity\", \"formControlName\", \"quantity\", \"required\", \"\", \"min\", \"0\", 1, \"form-control\", 3, \"placeholder\", \"max\"], [1, \"btn\", \"btn-success\", 3, \"disabled\", \"click\"], [\"id\", \"denied\", 1, \"container\"]],\n  template: function PortfolioComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, PortfolioComponent_div_0_Template, 64, 17, \"div\", 0);\n      i0.ɵɵtemplate(1, PortfolioComponent_ng_template_1_Template, 27, 9, \"ng-template\", null, 1, i0.ɵɵtemplateRefExtractor);\n      i0.ɵɵtemplate(3, PortfolioComponent_div_3_Template, 3, 0, \"div\", 2);\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", ctx.isAuthenticated);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngIf\", !ctx.isAuthenticated);\n    }\n  },\n  dependencies: [i3.ɵNgNoValidate, i3.DefaultValueAccessor, i3.NumberValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.RequiredValidator, i3.MinValidator, i3.MaxValidator, i3.NgModel, i4.NgClass, i4.NgForOf, i4.NgIf, i5.DataTableDirective, i6.ChartComponent, i3.FormGroupDirective, i3.FormControlName, i4.DecimalPipe, i4.DatePipe],\n  styles: [\"h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%] {\\r\\n    text-align: center;\\r\\n    color: black;\\r\\n}\\r\\n#left1[_ngcontent-%COMP%] {\\r\\n    \\r\\n    height: 350px;\\r\\n    float: left;\\r\\n    width: 50%;\\r\\n}\\r\\n\\r\\n\\r\\n#right1[_ngcontent-%COMP%] {\\r\\n    \\r\\n    height: 350px;\\r\\n    float: left;\\r\\n    width: 50%;\\r\\n}\\r\\n\\r\\n#total1[_ngcontent-%COMP%] {\\r\\n    float: left;\\r\\n    \\r\\n    height: 700px;\\r\\n    width: 100%;\\r\\n}\\r\\n\\r\\n\\r\\nth[_ngcontent-%COMP%]{\\r\\n    width:200px;\\r\\n    text-align: center;\\r\\n    border-bottom: 1px solid #ddd;\\r\\n }\\r\\n\\r\\n .btn-success[_ngcontent-%COMP%]{\\r\\n    display: block;\\r\\n  margin: 0 auto;\\r\\n}\\r\\n\\r\\n#denied[_ngcontent-%COMP%]{\\r\\n    height: 400px; \\r\\n    width:100%;\\r\\n    display:flex;\\r\\n    align-items: center;\\r\\n    justify-content: center;\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9wb3J0Zm9saW8vcG9ydGZvbGlvLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxrQkFBa0I7SUFDbEIsWUFBWTtBQUNoQjtBQUNBO0lBQ0ksaURBQWlEO0lBQ2pELGFBQWE7SUFDYixXQUFXO0lBQ1gsVUFBVTtBQUNkOzs7QUFHQTtJQUNJLGlEQUFpRDtJQUNqRCxhQUFhO0lBQ2IsV0FBVztJQUNYLFVBQVU7QUFDZDs7QUFFQTtJQUNJLFdBQVc7SUFDWCxpREFBaUQ7SUFDakQsYUFBYTtJQUNiLFdBQVc7QUFDZjs7O0FBR0E7SUFDSSxXQUFXO0lBQ1gsa0JBQWtCO0lBQ2xCLDZCQUE2QjtDQUNoQzs7Q0FFQTtJQUNHLGNBQWM7RUFDaEIsY0FBYztBQUNoQjs7QUFFQTtJQUNJLGFBQWE7SUFDYixVQUFVO0lBQ1YsWUFBWTtJQUNaLG1CQUFtQjtJQUNuQix1QkFBdUI7QUFDM0IiLCJzb3VyY2VzQ29udGVudCI6WyJoMSxoMixoMyxoNCB7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICBjb2xvcjogYmxhY2s7XHJcbn1cclxuI2xlZnQxIHtcclxuICAgIC8qIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMjQ1LCAyNTEsIDIyNywgMC44Nyk7ICovXHJcbiAgICBoZWlnaHQ6IDM1MHB4O1xyXG4gICAgZmxvYXQ6IGxlZnQ7XHJcbiAgICB3aWR0aDogNTAlO1xyXG59XHJcblxyXG5cclxuI3JpZ2h0MSB7XHJcbiAgICAvKiBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDIyNywgMjUxLCAyNDUsIDAuODcpOyAqL1xyXG4gICAgaGVpZ2h0OiAzNTBweDtcclxuICAgIGZsb2F0OiBsZWZ0O1xyXG4gICAgd2lkdGg6IDUwJTtcclxufVxyXG5cclxuI3RvdGFsMSB7XHJcbiAgICBmbG9hdDogbGVmdDtcclxuICAgIC8qIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMjQ0LCAyNDgsIDIzMiwgMC44Nyk7ICovXHJcbiAgICBoZWlnaHQ6IDcwMHB4O1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbn1cclxuXHJcblxyXG50aHtcclxuICAgIHdpZHRoOjIwMHB4O1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNkZGQ7XHJcbiB9XHJcblxyXG4gLmJ0bi1zdWNjZXNze1xyXG4gICAgZGlzcGxheTogYmxvY2s7XHJcbiAgbWFyZ2luOiAwIGF1dG87XHJcbn1cclxuXHJcbiNkZW5pZWR7XHJcbiAgICBoZWlnaHQ6IDQwMHB4OyBcclxuICAgIHdpZHRoOjEwMCU7XHJcbiAgICBkaXNwbGF5OmZsZXg7XHJcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbn1cclxuXHJcbiAiXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"mappings":"AACA,SAASA,QAAQ,QAAQ,+BAA+B;AACxD,SAASC,SAAS,QAAQ,gCAAgC;AAI1D,SAASC,WAAW,EAAEC,SAAS,EAAEC,UAAU,QAAQ,gBAAgB;;;;;;;;;;;;;;;;IC6CnDC,0BAAgD;IACxCA,YAAqB;IAAAA,iBAAK;IAC9BA,0BAAI;IAAAA,YAA2C;;IAAAA,iBAAK;IACpDA,0BAAI;IAAAA,YAAuB;IAAAA,iBAAK;IAChCA,0BAAI;IAAAA,YAAe;IAAAA,iBAAK;IACxBA,2BAAI;IAAAA,aAAkB;IAAAA,iBAAK;IAC3BA,+BAAwF;IACpFA,aACJ;;IAAAA,iBAAK;;;;IAPDA,eAAqB;IAArBA,0CAAqB;IACrBA,eAA2C;IAA3CA,+EAA2C;IAC3CA,eAAuB;IAAvBA,4CAAuB;IACvBA,eAAe;IAAfA,oCAAe;IACfA,eAAkB;IAAlBA,uCAAkB;IAClBA,eAAmF;IAAnFA,mGAAmF;IACnFA,eACJ;IADIA,mFACJ;;;;;;IAmBJA,0BAAiD;IACzCA,YAAqB;IAAAA,iBAAK;IAC9BA,0BAAI;IAAAA,YAAe;IAAAA,iBAAK;IACxBA,0BAAI;IAAAA,YAA4B;IAAAA,iBAAK;IACrCA,0BAAI;IAAQA;MAAA;MAAA;MAAA;MAAA;MAAA,OAASA,sCAAe;IAAA,EAAC;IAAyBA,oBAAI;IAAAA,iBAAS;;;;IAHvEA,eAAqB;IAArBA,0CAAqB;IACrBA,eAAe;IAAfA,oCAAe;IACfA,eAA4B;IAA5BA,iDAA4B;;;;;IAjFpDA,8BAA+C;IAEnCA,yBAAS;IAAAA,iBAAK;IAGtBA,8BAAgB;IACZA,qBAAI;IACJA,0BAAI;IAAAA,YAAmB;IAAAA,iBAAK;IAC5BA,qBAAI;IACJA,0BAAG;IAAAA,aAAqC;IAAAA,iBAAI;IAC5CA,0BAAG;IAAAA,aAA4B;IAAAA,iBAAI;IACnCA,0BAAG;IAAAA,aAAqB;IAAAA,iBAAI;IAC5BA,0BAAqD;IAAAA,aAA8C;;IAAAA,iBAAI;IAG3GA,+BAAiB;IACbA,sBAAI;IACJA,2BAAI;IAAAA,mCAAkB;IAAAA,iBAAK;IAC3BA,gCAAsG;IAC1GA,iBAAM;IAiBNA,+BAAiB;IACTA,0BAAS;IAAAA,iBAAK;IAClBA,sBAAI;IACJA,iCAAmE;IAGnDA,2BAAU;IAAAA,iBAAK;IACnBA,2BAAI;IAAAA,4BAAW;IAAAA,iBAAK;IACpBA,2BAAI;IAAAA,6BAAY;IAAAA,iBAAK;IACrBA,2BAAI;IAAAA,oBAAG;IAAAA,iBAAK;IACZA,2BAAI;IAAAA,uBAAM;IAAAA,iBAAK;IACfA,2BAAI;IAAAA,uBAAM;IAAAA,iBAAK;IAGvBA,8BAAO;IACHA,2EASQ;IACZA,iBAAQ;IAIhBA,+BAAiB;IACTA,4BAAW;IAAAA,iBAAK;IACpBA,sBAAI;IACJA,iCAAoE;IAGpDA,2BAAU;IAAAA,iBAAK;IACnBA,2BAAI;IAAAA,oBAAG;IAAAA,iBAAK;IACZA,2BAAI;IAAAA,6BAAY;IAAAA,iBAAK;IACrBA,sBAAS;IACbA,iBAAK;IAETA,8BAAO;IACHA,0EAKK;IACTA,iBAAQ;;;;IA7ERA,eAAmB;IAAnBA,qDAAmB;IAEpBA,eAAqC;IAArCA,uEAAqC;IACrCA,eAA4B;IAA5BA,8DAA4B;IAC5BA,eAAqB;IAArBA,uDAAqB;IACrBA,eAAiD;IAAjDA,iEAAiD;IAACA,eAA8C;IAA9CA,6FAA8C;IAMxFA,eAA0B;IAA1BA,+CAA0B;IAqBpBA,eAAuB;IAAvBA,4CAAuB;IAYRA,gBAAS;IAATA,qCAAS;IAiBxBA,eAAwB;IAAxBA,6CAAwB;IAUTA,gBAAU;IAAVA,sCAAU;;;;;IAoC9BA,6BAA8D;IAAAA,kCAAkB;IAAAA,iBAAQ;;;;;IACxFA,6BAAyD;IAAAA,+CAA+B;IAAAA,iBAAQ;;;;;IAHpGA,2BACqH;IACjHA,6FAAwF;IACxFA,6FAAgG;IACpGA,iBAAM;;;;IAFMA,eAAoD;IAApDA,qLAAoD;IACpDA,eAA+C;IAA/CA,gLAA+C;;;;;IASvDA,6BAAgE;IAAAA,qCAAqB;IAAAA,iBAAQ;;;;;IAC7FA,6BAA2D;IAAAA,kDACjD;IAAAA,iBAAQ;;;;;IAClBA,6BAA2D;IAAAA,YACpC;IAAAA,iBAAQ;;;;IAD4BA,eACpC;IADoCA,sFACpC;;;;;IAN3BA,2BAC8H;IAC1HA,6FAA6F;IAC7FA,6FACkB;IAClBA,6FAC+B;IACnCA,iBAAM;;;;IALMA,eAAsD;IAAtDA,+EAAsD;IACtDA,eAAiD;IAAjDA,0EAAiD;IAEjDA,eAAiD;IAAjDA,0EAAiD;;;;;;IAlCzEA,+BAA0B;IACyBA,qBAAK;IAAAA,iBAAK;IACzDA,kCAAsF;IAA3BA;MAAA;MAAA;MAAA,OAASA,qBAAE,aAAa,CAAC;IAAA,EAAC;IAACA,iBAAS;IAEnGA,+BAAwB;IAGWA,2BAAW;IAAAA,iBAAQ;IAC1CA,iCACiD;IADfA;MAAAA;MAAA;MAAA,OAAaA,gDAAuB;IAAA,EAAP;IAA/DA,iBACiD;IAErDA,gCAAwB;IACGA,2BAAU;IAAAA,iBAAQ;IACzCA,6BAA8E;IAClFA,iBAAM;IACNA,gCAAwB;IACDA,uBAAM;IAAAA,iBAAQ;IACjCA,6BACmD;IACnDA,oFAIM;IACVA,iBAAM;IACNA,gCAAwB;IACEA,0BAAS;IAAAA,iBAAQ;IACvCA,6BACmG;IACnGA,oFAOM;IACVA,iBAAM;IAENA,sBAAI;IACJA,mCAA8F;IAAlCA;MAAA;MAAA;MAAA;MAASC,cAAM;MAAA,OAAED,qBAAE,YAAY,CAAC;IAAA,EAAC;IAACA,4BACrF;IAAAA,iBAAS;;;;IApChBA,eAAoB;IAApBA,yCAAoB;IAIdA,eAAmC;IAAnCA,iEAAmC;IADLA,gDAA6B;IAU3DA,eAAqC;IAArCA,mEAAqC;IAEpCA,eAA8G;IAA9GA,oJAA8G;IAQ/GA,eAA0C;IAA1CA,wEAA0C;IAAUA,gEAAkC;IAErFA,eAAuH;IAAvHA,6JAAuH;IAUhGA,eAA2B;IAA3BA,gDAA2B;;;;;IAQvEA,+BAA4D;IACpDA,sCAAsB;IAAAA,iBAAK;;;ADhInC,OAAM,MAAOE,kBAAkB;EAM7BC,YAAoBC,gBAAkC,EAC5CC,YAAsB;IADZ,qBAAgB,GAAhBD,gBAAgB;IAC1B,iBAAY,GAAZC,YAAY;IAJtB,YAAO,GAAc,IAAIT,SAAS,EAAE;IACpC,UAAK,GAAc,IAAIA,SAAS,EAAE;IAMlC,SAAI,GAAgB,EAAE;IACtB,UAAK,GAAgB,EAAE;IACvB,UAAK,GAAgB,EAAE;IACvB,eAAU,GAAgB,EAAE;IAC5B,SAAI,GAAa,IAAID,QAAQ,EAAE;IAE/B,oBAAe,GAAY,IAAI;IAC/B,gBAAW,GAAW,CAAC;IAEvB,cAAS,GAAwB,EAAE;IACnC,eAAU,GAAwB,EAAE;EAbA;EAcpC;EAEAW,QAAQ;IAENC,OAAO,CAACC,GAAG,CAAC,IAAI,CAACC,eAAe,CAAC;IACjC,IAAI,CAACC,IAAI,GAAG,IAAI,CAACN,gBAAgB,CAACO,YAAY,EAAE;IAGhD,IAAI,CAACC,IAAI,CAACC,IAAI,GAAG,UAAU;IAC3B,IAAI,CAACD,IAAI,CAACE,aAAa,GAAG,mBAAmB;IAC7C,IAAI,CAACF,IAAI,CAACG,KAAK,GAAG,eAAe;IACjC,IAAI,CAACH,IAAI,CAACI,KAAK,GAAG,uBAAuB;IAGzC,KAAK,IAAIC,OAAO,IAAI,IAAI,CAACP,IAAI,EAAE;MAC7B,IAAI,CAACQ,WAAW,IAAID,OAAO,CAACE,MAAM;;IAGpC;IACA;IACA;IAGA,KAAK,MAAMC,SAAS,IAAI,IAAI,CAACV,IAAI,EAAE;MACjC,MAAMW,iBAAiB,GAAG,IAAI,CAACC,KAAK,CAACC,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACC,SAAS,KAAKL,SAAS,CAACK,SAAS,CAAC;MACnF,IAAIJ,iBAAiB,EAAE;QACrBA,iBAAiB,CAACK,gBAAgB,IAAIN,SAAS,CAACM,gBAAgB;OAEjE,MAAM;QACL,IAAI,CAACJ,KAAK,CAACK,IAAI,CAAC;UAAE,GAAGP;QAAS,CAAE,CAAC;;;IAIrC,IAAI,CAACQ,cAAc,EAAE;IACrB,IAAI,CAACC,WAAW,EAAE;IAElB;EAEF;;EAIAA,WAAW;IAET,IAAI,CAACC,SAAS,GAAG;MACfC,UAAU,EAAE,cAAc;MAC1BC,SAAS,EAAE,KAAK;MAChB;MACAC,UAAU,EAAE,CACV;QAAEC,OAAO,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;QAAEC,SAAS,EAAE;MAAK,CAAE,EAC9C;QAAED,OAAO,EAAE,CAAC,CAAC,CAAC;QAAEC,SAAS,EAAE;MAAI,CAAE;KAEpC;IAED,IAAI,CAACC,UAAU,GAAG;MAChBL,UAAU,EAAE,cAAc;MAC1BC,SAAS,EAAE;KACZ;EAEH;EAKAJ,cAAc;IACZ,IAAI,CAACS,QAAQ,GAAG;MACdC,KAAK,EAAE;QACLC,IAAI,EAAE,KAAK;QACXC,KAAK,EAAE;OACR;MAEDC,MAAM,EAAE,IAAI,CAACnB,KAAK,CAACoB,GAAG,CAAEC,CAAC,IAAKA,CAAC,CAACjB,gBAAgB,CAAC;MACjDkB,MAAM,EAAE,IAAI,CAACtB,KAAK,CAACoB,GAAG,CAAEC,CAAC,IAAKA,CAAC,CAAClB,SAAS;KAC1C;EACH;EAGAoB,IAAI,IAEJ;EAEAC,IAAI,CAACC,OAAY,EAAEC,CAAS;IAC1B,IAAI,CAAC/B,OAAO,GAAG,IAAI,CAACP,IAAI,CAACsC,CAAC,CAAC;IAC3B,IAAI,CAACC,MAAM,GAAG,IAAInD,SAAS,CAAC;MAC1B,OAAO,EAAE,IAAID,WAAW,CAAC,IAAI,EAAE,CAACE,UAAU,CAACmD,QAAQ,CAAC,CAAC;MACrD,UAAU,EAAE,IAAIrD,WAAW,CAAC,IAAI,EAAE,CAACE,UAAU,CAACmD,QAAQ,EAAEnD,UAAU,CAACoD,GAAG,CAAC,CAAC,CAAC,EAAEpD,UAAU,CAACqD,GAAG,CAAC,IAAI,CAACnC,OAAO,CAACoC,MAAM,CAAC,CAAC;KAChH,CAAC;IACF,IAAI,CAAChD,YAAY,CAACyC,IAAI,CAACC,OAAO,CAAC;EACjC;;AA7GW7C,kBAAkB;mBAAlBA,kBAAkB;AAAA;AAAlBA,kBAAkB;QAAlBA,kBAAkB;EAAAoD;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCd/B1D,qEAwFM;MAINA,qHA+Cc;MAEdA,mEAEM;;;MA/IAA,0CAAqB;MA6IrBA,eAAsB;MAAtBA,2CAAsB","names":["Investor","Portfolio","FormControl","FormGroup","Validators","i0","ctx_r24","PortfolioComponent","constructor","portfolioService","modalService","ngOnInit","console","log","isAuthenticated","list","getPortfolio","user","name","BO_account_no","phone","email","company","totalProfit","profit","portfolio","matchingPortfolio","list2","find","p","tradeCode","volumeCumulative","push","renderPieChart","renderTable","dtOptions","pagingType","searching","columnDefs","targets","orderable","dtOptions2","pieChart","chart","type","width","series","map","d","labels","sell","open","content","i","myForm","required","min","max","volume","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["E:\\Codes\\semester_5\\StockTech\\SPL-2\\stockTech_frontend\\src\\app\\components\\portfolio\\portfolio.component.ts","E:\\Codes\\semester_5\\StockTech\\SPL-2\\stockTech_frontend\\src\\app\\components\\portfolio\\portfolio.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { Investor } from 'src/app/models/investor.model';\nimport { Portfolio } from 'src/app/models/portfolio.model';\nimport { PortfolioService } from 'src/app/services/portfolio.service';\nimport { ChartOptions } from '../home/home.component';\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { Observable, Subject } from 'rxjs';\n\n@Component({\n  selector: 'app-portfolio',\n  templateUrl: './portfolio.component.html',\n  styleUrls: ['./portfolio.component.css']\n})\nexport class PortfolioComponent implements OnInit {\n\n  myForm!: FormGroup;\n  company: Portfolio = new Portfolio();\n  order: Portfolio = new Portfolio();\n\n  constructor(private portfolioService: PortfolioService,\n    private modalService: NgbModal,) {}\n\n\n  list: Portfolio[] = [];\n  list2: Portfolio[] = [];\n  list3: Portfolio[] = [];\n  mergedList: Portfolio[] = [];\n  user: Investor = new Investor();\n  public pieChart: Partial<ChartOptions> | any;\n  isAuthenticated: boolean = true;\n  totalProfit: number = 0;\n\n  dtOptions: DataTables.Settings = {};\n  dtOptions2: DataTables.Settings = {};\n  // dtTrigger: Subject<any> = new Subject<any>();\n\n  ngOnInit(): void {\n\n    console.log(this.isAuthenticated);\n    this.list = this.portfolioService.getPortfolio();\n\n\n    this.user.name = \"Abu Tabu\";\n    this.user.BO_account_no = 123456789012345679n;\n    this.user.phone = 16276527652864n;\n    this.user.email = \"bsse1216@iit.du.ac.bd\";\n\n\n    for (let company of this.list) {\n      this.totalProfit += company.profit;\n    }\n\n    // const tradeCodes = ['AAPL', 'GOOG', 'MSFT', 'AAPL', 'GOOG'];\n    // const uniqueTradeCodes = [...new Set(tradeCodes)];\n    // console.log(uniqueTradeCodes); // ['AAPL', 'GOOG', 'MSFT']\n\n   \n    for (const portfolio of this.list) {\n      const matchingPortfolio = this.list2.find(p => p.tradeCode === portfolio.tradeCode);\n      if (matchingPortfolio) {      \n        matchingPortfolio.volumeCumulative += portfolio.volumeCumulative;\n       \n      } else {\n        this.list2.push({ ...portfolio });\n      }\n    }\n\n    this.renderPieChart();\n    this.renderTable();\n \n    // this.processData();\n  \n  }\n\n  \n  \n  renderTable() {\n\n    this.dtOptions = {\n      pagingType: 'full_numbers',\n      searching: false,\n      // ordering:false,\n      columnDefs: [\n        { targets: [1, 2, 3, 4, 5], orderable: false },\n        { targets: [0], orderable: true }\n      ],\n    };\n\n    this.dtOptions2 = {\n      pagingType: 'full_numbers',\n      searching: false,\n    };\n    \n  }\n\n\n\n\n  renderPieChart(): void {\n    this.pieChart = {\n      chart: {\n        type: 'pie',\n        width: '65%',\n      },\n\n      series: this.list2.map((d) => d.volumeCumulative),\n      labels: this.list2.map((d) => d.tradeCode),\n    };\n  }\n\n\n  sell() {\n\n  }\n\n  open(content: any, i: number) {\n    this.company = this.list[i];\n    this.myForm = new FormGroup({\n      'price': new FormControl(null, [Validators.required]),\n      'quantity': new FormControl(null, [Validators.required, Validators.min(0), Validators.max(this.company.volume)])\n    });\n    this.modalService.open(content);\n  }\n\n\n\n\n}\n","<div *ngIf=\"isAuthenticated\" class=\"container\">\n    <div>\n        <h1>Portfolio</h1>\n    </div>\n\n    <div id=\"left1\">\n        <br><br>\n        <h4>Name: {{user.name}}</h4>\n        <br>\n        <p>BO Account no: {{user.BO_account_no}}</p>\n        <p>Phone no: +880{{user.phone}}</p>\n        <p>Email: {{user.email}}</p>\n        <p [style.color]=\"totalProfit < 0 ? 'red' : 'green'\">Profit: {{ totalProfit | number: '1.2-2' }} Tk</p>\n    </div>\n\n    <div id=\"right1\">\n        <br><br>\n        <h3>Shareholding Ratio</h3>\n        <apx-chart [series]=\"pieChart.series\" [chart]=\"pieChart.chart\" [labels]=\"pieChart.labels\"></apx-chart>\n    </div>\n\n    <!-- <div>\n        <table>\n            <tr>\n              <th>State</th>\n              <th>County</th>\n              <th>Item</th>\n            </tr>\n            <tr *ngFor=\"let item of dataExt\">\n              <td [attr.rowspan]=\"item.stateSpan\" *ngIf=\"item.stateSpan\">{{ item.state }}</td>\n              <td [attr.rowspan]=\"item.countySpan\" *ngIf=\"item.countySpan\">{{ item.county }}</td>\n              <td>{{ item.item }}</td>\n            </tr>\n        </table>\n    </div> -->\n\n    <div id=\"total1\">\n        <h3>My shares</h3>\n        <br><br>\n        <table datatable [dtOptions]=\"dtOptions\" class=\"table table-hover\">\n            <thead>\n                <tr>\n                    <th>Trade Code</th>\n                    <th>Buying Date</th>\n                    <th>Buying Price</th>\n                    <th>LTP</th>\n                    <th>Volume</th>\n                    <th>Profit</th>\n                </tr>\n            </thead>\n            <tbody>\n                <tr *ngFor=\"let company of list; let i = index\">\n                    <td>{{company.tradeCode}}</td>\n                    <td>{{company.buyingDate | date: \"dd-MM-yyyy\"}}</td>\n                    <td>{{company.BuyingPrice}}</td>\n                    <td>{{company.LTP}}</td>\n                    <td>{{company.volume}}</td>\n                    <td [ngClass]=\"{'text-danger': company.profit < 0, 'text-success': company.profit > 0}\">\n                        {{company.profit | number : '1.2-2'}}\n                    </td>\n                   </tr>\n            </tbody>\n        </table>\n    </div>\n\n    <div id=\"total1\">\n        <h3>Sell shares</h3>\n        <br><br>\n        <table datatable [dtOptions]=\"dtOptions2\" class=\"table table-hover\">\n            <thead>\n                <tr>\n                    <th>Trade Code</th>\n                    <th>LTP</th>\n                    <th>Total Volume</th>                 \n                    <th></th>\n                </tr>\n            </thead>\n            <tbody>\n                <tr *ngFor=\"let company of list2; let i = index\">\n                    <td>{{company.tradeCode}}</td>\n                    <td>{{company.LTP}}</td>     \n                    <td>{{company.volumeCumulative}}</td>                  \n                    <td><button (click)=\"open(content,i)\" class=\"btn btn-primary\">Sell</button></td>\n                </tr>\n            </tbody>\n        </table>\n    </div>\n\n</div>\n\n\n\n<ng-template #content let-c=\"close\" let-d=\"dismiss\">\n    <div class=\"modal-header\">\n        <h4 class=\"modal-title\" id=\"modal-basic-title\">Order</h4>\n        <button type=\"button\" class=\"btn-close\" aria-label=\"Close\" (click)=\"d('Cross click')\"></button>\n    </div>\n    <div class=\"modal-body\">\n        <form [formGroup]=\"myForm\">\n            <div class=\"form-group\">\n                <label for=\"tradeCode\">Trade Code:</label>\n                <input type=\"text\" id=\"tradeCode\" [(ngModel)]=\"order.tradeCode\" class=\"form-control\"\n                    placeholder=\"{{company.tradeCode}}\" disabled>\n            </div>\n            <div class=\"form-group\">\n                <label for=\"tradeCode\">Order Type</label>\n                <input type=\"text\" id=\"type\" class=\"form-control\" placeholder=\"Sell\" disabled>\n            </div>\n            <div class=\"form-group\">\n                <label for=\"price\">Price:</label>\n                <input type=\"number\" id=\"price\" class=\"form-control\" formControlName=\"price\"\n                    placeholder=\"{{company.BuyingPrice}}\" required>\n                <div\n                    *ngIf=\"myForm.controls['price'].invalid && (myForm.controls['price'].dirty || myForm.controls['price'].touched)\">\n                    <small *ngIf=\"myForm.controls['price']?.errors?.['required']\">Price is required.</small>\n                    <small *ngIf=\"myForm.controls['price']?.errors?.['min']\">Price must be a positive value.</small>\n                </div>\n            </div>\n            <div class=\"form-group\">\n                <label for=\"quantity\">Quantity:</label>\n                <input type=\"number\" id=\"quantity\" class=\"form-control\" formControlName=\"quantity\"\n                    placeholder=\"{{company.volumeCumulative}}\" required max=\"{{company.volumeCumulative}}\" min=\"0\">\n                <div\n                    *ngIf=\"myForm.controls['quantity'].invalid && (myForm.controls['quantity'].dirty || myForm.controls['quantity'].touched)\">\n                    <small *ngIf=\"myForm.controls['quantity'].hasError('required')\">Quantity is required.</small>\n                    <small *ngIf=\"myForm.controls['quantity'].hasError('min')\">Quantity must be a positive\n                        value.</small>\n                    <small *ngIf=\"myForm.controls['quantity'].hasError('max')\">Quantity cannot be greater than\n                        {{company.volume}}.</small>\n                </div>\n            </div>\n\n            <br>\n            <button class=\"btn btn-success\" [disabled]=\"myForm.invalid\" (click)=\"sell(); c('Save click')\">Place\n                Order</button>\n\n        </form>\n    </div>\n\n</ng-template>\n\n<div *ngIf=\"!isAuthenticated\" id=\"denied\" class=\"container\">\n    <h1>You don't have access!</h1>\n</div>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}