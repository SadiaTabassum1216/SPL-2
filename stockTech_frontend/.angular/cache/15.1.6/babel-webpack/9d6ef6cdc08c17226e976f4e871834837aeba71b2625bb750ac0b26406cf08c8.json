{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"@angular/common\";\nfunction OtpVerificationComponent_p_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"p\")(1, \"label\", 5);\n    i0.ɵɵtext(2, \"OTP \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"input\", 6);\n    i0.ɵɵlistener(\"ngModelChange\", function OtpVerificationComponent_p_8_Template_input_ngModelChange_3_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.OTP = $event);\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.OTP);\n  }\n}\nfunction OtpVerificationComponent_button_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 7);\n    i0.ɵɵlistener(\"click\", function OtpVerificationComponent_button_9_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.sendPhone());\n    });\n    i0.ɵɵtext(1, \"Send OTP\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction OtpVerificationComponent_button_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 7);\n    i0.ɵɵlistener(\"click\", function OtpVerificationComponent_button_10_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r8 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r8.sendOtp());\n    });\n    i0.ɵɵtext(1, \"Verify OTP\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction OtpVerificationComponent_p_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1, \"OTP did not match. Try again!\");\n    i0.ɵɵelementEnd();\n  }\n}\nexport class OtpVerificationComponent {\n  constructor(http, elementRef, router) {\n    this.http = http;\n    this.elementRef = elementRef;\n    this.router = router;\n    this.Phone = '';\n    this.OTP = '';\n    this.showOtp = false;\n    this.showPhone = true;\n    this.verifyOtp = true;\n    this.baseUrl = 'http://localhost:4000/api/verifyPhone/';\n    this.baseUrl1 = 'http://localhost:4000/api/checkotp/';\n  }\n  sendPhone() {\n    this.http.post(this.baseUrl, {\n      phone: this.Phone\n    }).subscribe(response => {\n      this.showOtp = true;\n      this.showPhone = false;\n    }, error => {\n      console.error('Error:', error);\n    });\n  }\n  sendOtp() {\n    this.http.post(this.baseUrl1, {\n      otp: this.OTP\n    }).subscribe({\n      next: res => {\n        if (res == \"1\") {\n          this.router.navigate(['/boaccount']);\n        } else {\n          this.verifyOtp = false;\n        }\n      },\n      error: e => {\n        console.log('Error:', e);\n      }\n    });\n  }\n}\nOtpVerificationComponent.ɵfac = function OtpVerificationComponent_Factory(t) {\n  return new (t || OtpVerificationComponent)(i0.ɵɵdirectiveInject(i1.HttpClient), i0.ɵɵdirectiveInject(i0.ElementRef), i0.ɵɵdirectiveInject(i2.Router));\n};\nOtpVerificationComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: OtpVerificationComponent,\n  selectors: [[\"app-otp-verification\"]],\n  decls: 12,\n  vars: 5,\n  consts: [[\"id\", \"regForm\", \"action\", \"/action_page.php\"], [\"for\", \"phone\"], [\"type\", \"text\", \"id\", \"phone\", \"name\", \"phone\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [4, \"ngIf\"], [\"id\", \"send\", 3, \"click\", 4, \"ngIf\"], [\"for\", \"otp\"], [\"type\", \"text\", \"id\", \"otp\", \"name\", \"otp\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"id\", \"send\", 3, \"click\"]],\n  template: function OtpVerificationComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"body\")(1, \"form\", 0)(2, \"h1\");\n      i0.ɵɵtext(3, \"Phone Number Verification\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"p\")(5, \"label\", 1);\n      i0.ɵɵtext(6, \"Phone Number \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"input\", 2);\n      i0.ɵɵlistener(\"ngModelChange\", function OtpVerificationComponent_Template_input_ngModelChange_7_listener($event) {\n        return ctx.Phone = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(8, OtpVerificationComponent_p_8_Template, 4, 1, \"p\", 3);\n      i0.ɵɵtemplate(9, OtpVerificationComponent_button_9_Template, 2, 0, \"button\", 4);\n      i0.ɵɵtemplate(10, OtpVerificationComponent_button_10_Template, 2, 0, \"button\", 4);\n      i0.ɵɵtemplate(11, OtpVerificationComponent_p_11_Template, 2, 0, \"p\", 3);\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"ngModel\", ctx.Phone);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.showOtp);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.showPhone);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.showOtp);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", !ctx.verifyOtp);\n    }\n  },\n  dependencies: [i3.ɵNgNoValidate, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.RequiredValidator, i3.NgModel, i3.NgForm, i4.NgIf],\n  styles: [\"body[_ngcontent-%COMP%] {\\r\\n                background-color: #d3e0e4;\\r\\n              }\\r\\n              \\r\\n              #regForm[_ngcontent-%COMP%] {\\r\\n                background-color: #ffffff;\\r\\n                margin: 100px auto;\\r\\n                font-family: Raleway;\\r\\n                padding: 40px;\\r\\n                width: 80%;\\r\\n                min-width: 300px;\\r\\n              }\\r\\n              \\r\\n              h1[_ngcontent-%COMP%], h3[_ngcontent-%COMP%] {\\r\\n                text-align: center;  \\r\\n              }\\r\\n  \\r\\n              label[_ngcontent-%COMP%]{\\r\\n                  display: inline-block;\\r\\n                  margin: 1px; \\r\\n                  width: 25%;\\r\\n                  text-align: right;\\r\\n                  font-family: Arial, sans-serif;\\r\\n                  font-weight: bold;\\r\\n              }\\r\\n  \\r\\n              input[_ngcontent-%COMP%] {\\r\\n                padding: 10px;\\r\\n                margin: 2px;\\r\\n                width: 69%;\\r\\n                font-size: 17px;\\r\\n                font-family: Arial, sans-serif;\\r\\n                border: 1px solid #aaaaaa;\\r\\n                display: inline-block;\\r\\n                \\r\\n              }\\r\\n              \\r\\n                         \\r\\n              button[_ngcontent-%COMP%] {\\r\\n                background-color: #04AA6D;\\r\\n                color: #ffffff;\\r\\n                border: none;\\r\\n                padding: 10px 20px;\\r\\n                font-size: 17px;\\r\\n                font-family: Arial, sans-serif;\\r\\n                cursor: pointer;\\r\\n              }\\r\\n            \\r\\n              \\r\\n              button[_ngcontent-%COMP%]:hover {\\r\\n                opacity: 0.8;\\r\\n              }\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9vdHAtdmVyaWZpY2F0aW9uL290cC12ZXJpZmljYXRpb24uY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO1lBQ1k7O2VBRUc7O1lBRUg7Z0JBQ0kseUJBQXlCO2NBQzNCOztjQUVBO2dCQUNFLHlCQUF5QjtnQkFDekIsa0JBQWtCO2dCQUNsQixvQkFBb0I7Z0JBQ3BCLGFBQWE7Z0JBQ2IsVUFBVTtnQkFDVixnQkFBZ0I7Y0FDbEI7O2NBRUE7Z0JBQ0Usa0JBQWtCO2NBQ3BCOztjQUVBO2tCQUNJLHFCQUFxQjtrQkFDckIsV0FBVztrQkFDWCxVQUFVO2tCQUNWLGlCQUFpQjtrQkFDakIsOEJBQThCO2tCQUM5QixpQkFBaUI7Y0FDckI7O2NBRUE7Z0JBQ0UsYUFBYTtnQkFDYixXQUFXO2dCQUNYLFVBQVU7Z0JBQ1YsZUFBZTtnQkFDZiw4QkFBOEI7Z0JBQzlCLHlCQUF5QjtnQkFDekIscUJBQXFCOztjQUV2Qjs7O2NBR0E7Z0JBQ0UseUJBQXlCO2dCQUN6QixjQUFjO2dCQUNkLFlBQVk7Z0JBQ1osa0JBQWtCO2dCQUNsQixlQUFlO2dCQUNmLDhCQUE4QjtnQkFDOUIsZUFBZTtjQUNqQjs7O2NBR0E7Z0JBQ0UsWUFBWTtjQUNkIiwic291cmNlc0NvbnRlbnQiOlsiXHJcbiAgICAgICAgICAgIC8qICoge1xyXG4gICAgICAgICAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XHJcbiAgICAgICAgICAgIH0gKi9cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGJvZHkge1xyXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2QzZTBlNDtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgI3JlZ0Zvcm0ge1xyXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZmZmZjtcclxuICAgICAgICAgICAgICAgIG1hcmdpbjogMTAwcHggYXV0bztcclxuICAgICAgICAgICAgICAgIGZvbnQtZmFtaWx5OiBSYWxld2F5O1xyXG4gICAgICAgICAgICAgICAgcGFkZGluZzogNDBweDtcclxuICAgICAgICAgICAgICAgIHdpZHRoOiA4MCU7XHJcbiAgICAgICAgICAgICAgICBtaW4td2lkdGg6IDMwMHB4O1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICBoMSxoMyB7XHJcbiAgICAgICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7ICBcclxuICAgICAgICAgICAgICB9XHJcbiAgXHJcbiAgICAgICAgICAgICAgbGFiZWx7XHJcbiAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcclxuICAgICAgICAgICAgICAgICAgbWFyZ2luOiAxcHg7IFxyXG4gICAgICAgICAgICAgICAgICB3aWR0aDogMjUlO1xyXG4gICAgICAgICAgICAgICAgICB0ZXh0LWFsaWduOiByaWdodDtcclxuICAgICAgICAgICAgICAgICAgZm9udC1mYW1pbHk6IEFyaWFsLCBzYW5zLXNlcmlmO1xyXG4gICAgICAgICAgICAgICAgICBmb250LXdlaWdodDogYm9sZDtcclxuICAgICAgICAgICAgICB9XHJcbiAgXHJcbiAgICAgICAgICAgICAgaW5wdXQge1xyXG4gICAgICAgICAgICAgICAgcGFkZGluZzogMTBweDtcclxuICAgICAgICAgICAgICAgIG1hcmdpbjogMnB4O1xyXG4gICAgICAgICAgICAgICAgd2lkdGg6IDY5JTtcclxuICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMTdweDtcclxuICAgICAgICAgICAgICAgIGZvbnQtZmFtaWx5OiBBcmlhbCwgc2Fucy1zZXJpZjtcclxuICAgICAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNhYWFhYWE7XHJcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICBidXR0b24ge1xyXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzA0QUE2RDtcclxuICAgICAgICAgICAgICAgIGNvbG9yOiAjZmZmZmZmO1xyXG4gICAgICAgICAgICAgICAgYm9yZGVyOiBub25lO1xyXG4gICAgICAgICAgICAgICAgcGFkZGluZzogMTBweCAyMHB4O1xyXG4gICAgICAgICAgICAgICAgZm9udC1zaXplOiAxN3B4O1xyXG4gICAgICAgICAgICAgICAgZm9udC1mYW1pbHk6IEFyaWFsLCBzYW5zLXNlcmlmO1xyXG4gICAgICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgYnV0dG9uOmhvdmVyIHtcclxuICAgICAgICAgICAgICAgIG9wYWNpdHk6IDAuODtcclxuICAgICAgICAgICAgICB9ICAgICAgICAiXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"mappings":";;;;;;;;IASYA,yBAAmB;IAAiBA,oBAAI;IAAAA,iBAAQ;IAACA,gCAAoE;IAAhDA;MAAAA;MAAA;MAAA;IAAA,EAAiB;IAArCA,iBAAoE;;;;IAAhDA,eAAiB;IAAjBA,oCAAiB;;;;;;IACtFA,iCAA0D;IAAlDA;MAAAA;MAAA;MAAA,OAASA,iCAAW;IAAA,EAAC;IAA6BA,wBAAQ;IAAAA,iBAAS;;;;;;IAC3EA,iCAAsD;IAA9CA;MAAAA;MAAA;MAAA,OAASA,+BAAS;IAAA,EAAC;IAA2BA,0BAAU;IAAAA,iBAAS;;;;;IACzEA,yBAAsB;IAAAA,6CAA6B;IAAAA,iBAAI;;;ACHnE,OAAM,MAAOC,wBAAwB;EASnCC,YAAoBC,IAAgB,EAAUC,UAAsB,EAAUC,MAAc;IAAxE,SAAI,GAAJF,IAAI;IAAsB,eAAU,GAAVC,UAAU;IAAsB,WAAM,GAANC,MAAM;IARpF,UAAK,GAAW,EAAE;IAClB,QAAG,GAAW,EAAE;IAChB,YAAO,GAAY,KAAK;IACxB,cAAS,GAAY,IAAI;IACzB,cAAS,GAAY,IAAI;IACzB,YAAO,GAAG,wCAAwC;IAClD,aAAQ,GAAG,qCAAqC;EAE+C;EAE/FC,SAAS;IACP,IAAI,CAACH,IAAI,CAACI,IAAI,CAAC,IAAI,CAACC,OAAO,EAAE;MAAEC,KAAK,EAAE,IAAI,CAACC;IAAK,CAAE,CAAC,CAACC,SAAS,CAC1DC,QAAQ,IAAI;MACX,IAAI,CAACC,OAAO,GAAG,IAAI;MACnB,IAAI,CAACC,SAAS,GAAG,KAAK;IACxB,CAAC,EACAC,KAAK,IAAI;MACRC,OAAO,CAACD,KAAK,CAAC,QAAQ,EAAEA,KAAK,CAAC;IAChC,CAAC,CACF;EAEH;EAEAE,OAAO;IACL,IAAI,CAACd,IAAI,CAACI,IAAI,CAAC,IAAI,CAACW,QAAQ,EAAE;MAAEC,GAAG,EAAE,IAAI,CAACC;IAAG,CAAE,CAAC,CAACT,SAAS,CAAC;MACzDU,IAAI,EAAGC,GAAG,IAAI;QACZ,IAAGA,GAAG,IAAE,GAAG,EAAC;UACV,IAAI,CAACjB,MAAM,CAACkB,QAAQ,CAAC,CAAC,YAAY,CAAC,CAAC;SAAE,MACpC;UAAC,IAAI,CAACC,SAAS,GAAC,KAAK;;MAC3B,CAAC;MACDT,KAAK,EAAGU,CAAC,IAAI;QACXT,OAAO,CAACU,GAAG,CAAC,QAAQ,EAAED,CAAC,CAAC;MAC1B;KACD,CAAC;EAEJ;;AApCWxB,wBAAwB;mBAAxBA,wBAAwB;AAAA;AAAxBA,wBAAwB;QAAxBA,wBAAwB;EAAA0B;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDPjC/B,4BAAM;MAGMA,yCAAyB;MAAAA,iBAAK;MAElCA,yBAAG;MAAmBA,6BAAa;MAAAA,iBAAQ;MAACA,gCAA0E;MAAtDA;QAAA;MAAA,EAAmB;MAAvCA,iBAA0E;MAEtHA,qEAAyH;MACzHA,+EAA2E;MAC3EA,iFAAyE;MACzEA,uEAAuD;MAE3DA,iBAAO;;;MAP6DA,eAAmB;MAAnBA,mCAAmB;MAE/EA,eAAa;MAAbA,kCAAa;MACwBA,eAAe;MAAfA,oCAAe;MACjBA,eAAa;MAAbA,kCAAa;MAChDA,eAAgB;MAAhBA,qCAAgB","names":["i0","OtpVerificationComponent","constructor","http","elementRef","router","sendPhone","post","baseUrl","phone","Phone","subscribe","response","showOtp","showPhone","error","console","sendOtp","baseUrl1","otp","OTP","next","res","navigate","verifyOtp","e","log","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["E:\\Codes\\semester 5\\stockTech_frontend\\src\\app\\components\\otp-verification\\otp-verification.component.html","E:\\Codes\\semester 5\\stockTech_frontend\\src\\app\\components\\otp-verification\\otp-verification.component.ts"],"sourcesContent":["\n\n    <body>\n                \n        <form id=\"regForm\" action=\"/action_page.php\">\n            <h1>Phone Number Verification</h1>\n\n            <p><label for=\"phone\">Phone Number </label> <input type=\"text\"  [(ngModel)]=\"Phone\" id=\"phone\" name=\"phone\"  required></p>\n            \n            <p *ngIf=\"showOtp\"><label for=\"otp\">OTP </label> <input type=\"text\"  [(ngModel)]=\"OTP\" id=\"otp\" name=\"otp\"  required></p>\n            <button (click)=\"sendPhone()\" id=\"send\" *ngIf=\"showPhone\">Send OTP</button>\n            <button (click)=\"sendOtp()\" id=\"send\" *ngIf=\"showOtp\">Verify OTP</button>\n            <p *ngIf=\"!verifyOtp\">OTP did not match. Try again!</p>\n            \n        </form>\n\n        <script>\n           \n        </script>\n            \n    </body>\n\n","import { Component, ElementRef } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-otp-verification',\n  templateUrl: './otp-verification.component.html',\n  styleUrls: ['./otp-verification.component.css']\n})\nexport class OtpVerificationComponent {\n  Phone: string = '';\n  OTP: string = '';\n  showOtp: boolean = false;\n  showPhone: boolean = true;\n  verifyOtp: boolean = true;\n  baseUrl = 'http://localhost:4000/api/verifyPhone/';\n  baseUrl1 = 'http://localhost:4000/api/checkotp/';\n\n  constructor(private http: HttpClient, private elementRef: ElementRef, private router: Router) {}\n\n  sendPhone() {\n    this.http.post(this.baseUrl, { phone: this.Phone }).subscribe(\n      (response) => {\n        this.showOtp = true;\n        this.showPhone = false;\n      },\n      (error) => {\n        console.error('Error:', error);\n      }\n    );\n\n  }\n\n  sendOtp() {\n    this.http.post(this.baseUrl1, { otp: this.OTP }).subscribe({\n      next: (res) =>{\n        if(res==\"1\"){\n          this.router.navigate(['/boaccount']);}\n        else{this.verifyOtp=false;}\n      },    \n      error: (e) => {\n        console.log('Error:', e);\n      }\n    });\n\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}