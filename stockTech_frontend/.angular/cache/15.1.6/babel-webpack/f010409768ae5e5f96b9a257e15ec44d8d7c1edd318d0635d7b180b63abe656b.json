{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"@angular/common\";\nfunction SignUpComponent_button_16_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 17);\n    i0.ɵɵlistener(\"click\", function SignUpComponent_button_16_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.sendOtp());\n    });\n    i0.ɵɵtext(1, \"Verify OTP\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction SignUpComponent_p_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1, \"OTP did not match. Try again!\");\n    i0.ɵɵelementEnd();\n  }\n}\nexport class SignUpComponent {\n  constructor(http) {\n    this.http = http;\n    this.bo = null;\n    this.email = null;\n    this.password = null;\n    this.Phone = '';\n    this.OTP = '';\n    this.showOtp = false;\n    this.showPhone = true;\n    this.verifyOtp = true;\n    this.baseUrl = 'http://localhost:4000/api/verifyPhone/';\n    this.baseUrl1 = 'http://localhost:4000/api/checkotp/';\n  }\n  onSubmit() {\n    // Send OTP to user's phone number\n    const data = {\n      phoneNumber: this.Phone\n    };\n    this.http.post('http://localhost:8000/send-otp', data).subscribe(response => {\n      alert('OTP sent to your phone number');\n    });\n  }\n  sendOtp() {\n    this.http.post(this.baseUrl1, {\n      otp: this.OTP\n    }).subscribe({\n      next: res => {\n        if (res == \"1\") {\n          // this.router.navigate(['/boaccount']);\n        } else {\n          this.verifyOtp = false;\n        }\n      },\n      error: e => {\n        console.log('Error:', e);\n      }\n    });\n  }\n  onVerifyOTP() {\n    // Verify OTP entered by user\n    const data = {\n      phoneNumber: this.Phone,\n      otp: this.OTP\n    };\n    this.http.post('http://localhost:8000/verify-otp', data).subscribe(response => {\n      if (response.success) {\n        // OTP verification successful, set password and create account\n        const data = {\n          accountNumber: this.bo,\n          phoneNumber: this.Phone,\n          email: this.email,\n          password: this.password\n        };\n        this.http.post('http://localhost:8000/create-account', data).subscribe(response => {\n          alert('Account created successfully');\n        });\n      } else {\n        alert('Invalid OTP');\n      }\n    });\n  }\n}\nSignUpComponent.ɵfac = function SignUpComponent_Factory(t) {\n  return new (t || SignUpComponent)(i0.ɵɵdirectiveInject(i1.HttpClient));\n};\nSignUpComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: SignUpComponent,\n  selectors: [[\"app-sign-up\"]],\n  decls: 33,\n  vars: 6,\n  consts: [[\"action\", \"/action_page.php\"], [\"id\", \"beforeOTP\"], [\"for\", \"bo\"], [\"type\", \"text\", \"id\", \"bo\", \"name\", \"bo\", \"pattern\", \"[0-9]{20}\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"email\"], [\"type\", \"email\", \"id\", \"email\", \"name\", \"email\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"phone\"], [\"type\", \"tel\", \"id\", \"phone\", \"name\", \"phone\", \"pattern\", \"[0-9]{11}\", 3, \"ngModel\", \"ngModelChange\"], [\"id\", \"send\", 3, \"click\", 4, \"ngIf\"], [4, \"ngIf\"], [\"id\", \"afterOTP\"], [\"for\", \"otp\"], [\"type\", \"text\", \"id\", \"otp\", \"name\", \"otp\", \"required\", \"\"], [\"for\", \"password\"], [\"type\", \"password\", \"id\", \"password\", \"name\", \"password\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"password\", \"id\", \"password\", \"name\", \"password\", \"required\", \"\"], [\"type\", \"submit\"], [\"id\", \"send\", 3, \"click\"]],\n  template: function SignUpComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"form\", 0)(1, \"h1\");\n      i0.ɵɵtext(2, \"Sign Up\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"div\", 1)(4, \"p\")(5, \"label\", 2);\n      i0.ɵɵtext(6, \"BO Account Number: \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"input\", 3);\n      i0.ɵɵlistener(\"ngModelChange\", function SignUpComponent_Template_input_ngModelChange_7_listener($event) {\n        return ctx.bo = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(8, \"p\")(9, \"label\", 4);\n      i0.ɵɵtext(10, \"Email: \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"input\", 5);\n      i0.ɵɵlistener(\"ngModelChange\", function SignUpComponent_Template_input_ngModelChange_11_listener($event) {\n        return ctx.email = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(12, \"p\")(13, \"label\", 6);\n      i0.ɵɵtext(14, \"Phone Number: \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"input\", 7);\n      i0.ɵɵlistener(\"ngModelChange\", function SignUpComponent_Template_input_ngModelChange_15_listener($event) {\n        return ctx.Phone = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(16, SignUpComponent_button_16_Template, 2, 0, \"button\", 8);\n      i0.ɵɵtemplate(17, SignUpComponent_p_17_Template, 2, 0, \"p\", 9);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(18, \"div\", 10)(19, \"p\")(20, \"label\", 11);\n      i0.ɵɵtext(21, \"OTP:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(22, \"input\", 12);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(23, \"p\")(24, \"label\", 13);\n      i0.ɵɵtext(25, \"Password:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(26, \"input\", 14);\n      i0.ɵɵlistener(\"ngModelChange\", function SignUpComponent_Template_input_ngModelChange_26_listener($event) {\n        return ctx.password = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(27, \"p\")(28, \"label\", 13);\n      i0.ɵɵtext(29, \"Confirm Password:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(30, \"input\", 15);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(31, \"button\", 16);\n      i0.ɵɵtext(32, \"Sign Up\");\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"ngModel\", ctx.bo);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.email);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.Phone);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.showOtp);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", !ctx.verifyOtp);\n      i0.ɵɵadvance(9);\n      i0.ɵɵproperty(\"ngModel\", ctx.password);\n    }\n  },\n  dependencies: [i2.ɵNgNoValidate, i2.DefaultValueAccessor, i2.NgControlStatus, i2.NgControlStatusGroup, i2.RequiredValidator, i2.PatternValidator, i2.NgModel, i2.NgForm, i3.NgIf],\n  styles: [\"body[_ngcontent-%COMP%]{\\r\\n    background-color: #f2f2f2;\\r\\n}\\r\\nh1[_ngcontent-%COMP%]{\\r\\ntext-align: center;\\r\\npadding: 20px;\\r\\n}\\r\\nform[_ngcontent-%COMP%] {\\r\\nmargin: 20px;\\r\\npadding: 50px;\\r\\nborder-radius: 5px;\\r\\nfont-family: Arial, sans-serif;\\r\\n}\\r\\nlabel[_ngcontent-%COMP%] { \\r\\nmargin-bottom: 10px;\\r\\ndisplay: inline-block;\\r\\nfont-weight: bold;\\r\\ntext-align: right;\\r\\nwidth: 25%;\\r\\n}\\r\\n\\r\\ninput[type=\\\"text\\\"][_ngcontent-%COMP%], input[type=\\\"email\\\"][_ngcontent-%COMP%], input[type=\\\"tel\\\"][_ngcontent-%COMP%], input[type=\\\"password\\\"][_ngcontent-%COMP%]{\\r\\ndisplay: inline-block;\\r\\nmargin-bottom: 10px;\\r\\nwidth: 50%;\\r\\npadding: 10px;\\r\\nborder-radius: 5px;\\r\\nborder: 1px solid #ccc;\\r\\nbox-sizing: border-box;\\r\\nfont-size: 16px;\\r\\nfont-family: Arial, sans-serif;\\r\\n}\\r\\nbutton[_ngcontent-%COMP%]{\\r\\nbackground-color: #4CAF50;\\r\\ncolor: #fff;\\r\\ncursor: pointer;\\r\\nfloat: right;   \\r\\npadding: 10px;  \\r\\n}\\r\\n\\r\\n#afterOTP[_ngcontent-%COMP%]{\\r\\ndisplay: none;\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9zaWduLXVwL3NpZ24tdXAuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQ0E7SUFDSSx5QkFBeUI7QUFDN0I7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQixhQUFhO0FBQ2I7QUFDQTtBQUNBLFlBQVk7QUFDWixhQUFhO0FBQ2Isa0JBQWtCO0FBQ2xCLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0EsbUJBQW1CO0FBQ25CLHFCQUFxQjtBQUNyQixpQkFBaUI7QUFDakIsaUJBQWlCO0FBQ2pCLFVBQVU7QUFDVjs7QUFFQTs7OztBQUlBLHFCQUFxQjtBQUNyQixtQkFBbUI7QUFDbkIsVUFBVTtBQUNWLGFBQWE7QUFDYixrQkFBa0I7QUFDbEIsc0JBQXNCO0FBQ3RCLHNCQUFzQjtBQUN0QixlQUFlO0FBQ2YsOEJBQThCO0FBQzlCO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekIsV0FBVztBQUNYLGVBQWU7QUFDZixZQUFZO0FBQ1osYUFBYTtBQUNiOztBQUVBO0FBQ0EsYUFBYTtBQUNiIiwic291cmNlc0NvbnRlbnQiOlsiXHJcbmJvZHl7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjJmMmYyO1xyXG59XHJcbmgxe1xyXG50ZXh0LWFsaWduOiBjZW50ZXI7XHJcbnBhZGRpbmc6IDIwcHg7XHJcbn1cclxuZm9ybSB7XHJcbm1hcmdpbjogMjBweDtcclxucGFkZGluZzogNTBweDtcclxuYm9yZGVyLXJhZGl1czogNXB4O1xyXG5mb250LWZhbWlseTogQXJpYWwsIHNhbnMtc2VyaWY7XHJcbn1cclxubGFiZWwgeyBcclxubWFyZ2luLWJvdHRvbTogMTBweDtcclxuZGlzcGxheTogaW5saW5lLWJsb2NrO1xyXG5mb250LXdlaWdodDogYm9sZDtcclxudGV4dC1hbGlnbjogcmlnaHQ7XHJcbndpZHRoOiAyNSU7XHJcbn1cclxuXHJcbmlucHV0W3R5cGU9XCJ0ZXh0XCJdLFxyXG5pbnB1dFt0eXBlPVwiZW1haWxcIl0sXHJcbmlucHV0W3R5cGU9XCJ0ZWxcIl0sXHJcbmlucHV0W3R5cGU9XCJwYXNzd29yZFwiXXtcclxuZGlzcGxheTogaW5saW5lLWJsb2NrO1xyXG5tYXJnaW4tYm90dG9tOiAxMHB4O1xyXG53aWR0aDogNTAlO1xyXG5wYWRkaW5nOiAxMHB4O1xyXG5ib3JkZXItcmFkaXVzOiA1cHg7XHJcbmJvcmRlcjogMXB4IHNvbGlkICNjY2M7XHJcbmJveC1zaXppbmc6IGJvcmRlci1ib3g7XHJcbmZvbnQtc2l6ZTogMTZweDtcclxuZm9udC1mYW1pbHk6IEFyaWFsLCBzYW5zLXNlcmlmO1xyXG59XHJcbmJ1dHRvbntcclxuYmFja2dyb3VuZC1jb2xvcjogIzRDQUY1MDtcclxuY29sb3I6ICNmZmY7XHJcbmN1cnNvcjogcG9pbnRlcjtcclxuZmxvYXQ6IHJpZ2h0OyAgIFxyXG5wYWRkaW5nOiAxMHB4OyAgXHJcbn1cclxuXHJcbiNhZnRlck9UUHtcclxuZGlzcGxheTogbm9uZTtcclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","SignUpComponent","constructor","http","onSubmit","data","phoneNumber","Phone","post","subscribe","response","alert","sendOtp","baseUrl1","otp","OTP","next","res","verifyOtp","error","e","console","log","onVerifyOTP","success","accountNumber","bo","email","password","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["E:\\Codes\\semester 5\\stockTech_frontend\\src\\app\\components\\sign-up\\sign-up.component.html","E:\\Codes\\semester 5\\stockTech_frontend\\src\\app\\components\\sign-up\\sign-up.component.ts"],"sourcesContent":["<form  action=\"/action_page.php\">\n    <h1>Sign Up</h1>\n    <div id=\"beforeOTP\">\n      <p><label for=\"bo\">BO Account Number: </label> <input type=\"text\" [(ngModel)]=\"bo\" id=\"bo\" name=\"bo\" pattern=\"[0-9]{20}\"></p>\n      <p><label for=\"email\">Email: </label> <input type=\"email\" [(ngModel)]=\"email\" id=\"email\" name=\"email\"></p>\n      <p><label for=\"phone\">Phone Number: </label> <input type=\"tel\" [(ngModel)]=\"Phone\" id=\"phone\" name=\"phone\" pattern=\"[0-9]{11}\"></p>\n      <button (click)=\"sendOtp()\" id=\"send\" *ngIf=\"showOtp\">Verify OTP</button>\n      <p *ngIf=\"!verifyOtp\">OTP did not match. Try again!</p>\n      </div>\n\n    <div id=\"afterOTP\">\n      <p><label for=\"otp\">OTP:</label> <input type=\"text\" id=\"otp\" name=\"otp\" required></p>\n      <p><label for=\"password\">Password:</label> <input type=\"password\" [(ngModel)]=\"password\" id=\"password\" name=\"password\" required></p>\n      <p><label for=\"password\">Confirm Password:</label> <input type=\"password\" id=\"password\" name=\"password\" required></p>\n      <button type=\"submit\">Sign Up</button>  \n  </div>\n    \n  </form>\n  ","import { Component } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-sign-up',\n  templateUrl: './sign-up.component.html',\n  styleUrls: ['./sign-up.component.css']\n})\n\nexport class SignUpComponent {\n  bo= null;\n  email= null;\n\n  password= null;\n  Phone: string = '';\n  OTP: string = '';\n  showOtp: boolean = false;\n  showPhone: boolean = true;\n  verifyOtp: boolean = true;\n  baseUrl = 'http://localhost:4000/api/verifyPhone/';\n  baseUrl1 = 'http://localhost:4000/api/checkotp/';\n\n  constructor(private http: HttpClient) { }\n\n  onSubmit() {\n    // Send OTP to user's phone number\n    const data = { phoneNumber: this.Phone };\n    this.http.post('http://localhost:8000/send-otp', data)\n      .subscribe((response: any) => {\n        alert('OTP sent to your phone number');\n      });\n  }\n\n  \n  sendOtp() {\n    this.http.post(this.baseUrl1, { otp: this.OTP }).subscribe({\n      next: (res) =>{\n        if(res==\"1\"){\n          // this.router.navigate(['/boaccount']);\n        }\n        else{this.verifyOtp=false;}\n      },    \n      error: (e) => {\n        console.log('Error:', e);\n      }\n    });\n\n  }\n  onVerifyOTP() {\n    // Verify OTP entered by user\n    const data = { phoneNumber: this.Phone, otp: this.OTP };\n    this.http.post('http://localhost:8000/verify-otp', data)\n      .subscribe((response: any) => {\n        if (response.success) {\n          // OTP verification successful, set password and create account\n          const data = { accountNumber: this.bo, phoneNumber: this.Phone, email: this.email, password: this.password };\n          this.http.post('http://localhost:8000/create-account', data)\n            .subscribe((response: any) => {\n              alert('Account created successfully');\n            });\n        } else {\n          alert('Invalid OTP');\n        }\n      });\n  }\n}"]},"metadata":{},"sourceType":"module","externalDependencies":[]}