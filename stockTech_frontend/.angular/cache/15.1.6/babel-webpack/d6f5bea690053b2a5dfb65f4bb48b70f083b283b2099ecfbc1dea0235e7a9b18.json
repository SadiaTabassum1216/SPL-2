{"ast":null,"code":"import * as crypto from 'crypto-js';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/router\";\nfunction SignUpComponent_div_5_p_13_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"p\")(1, \"label\", 14);\n    i0.ɵɵtext(2, \"OTP: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"input\", 15);\n    i0.ɵɵlistener(\"ngModelChange\", function SignUpComponent_div_5_p_13_Template_input_ngModelChange_3_listener($event) {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r5 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r5.OTP = $event);\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", ctx_r2.OTP);\n  }\n}\nfunction SignUpComponent_div_5_button_14_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 16);\n    i0.ɵɵlistener(\"click\", function SignUpComponent_div_5_button_14_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r7 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r7.checkBO());\n    });\n    i0.ɵɵtext(1, \"Send OTP\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction SignUpComponent_div_5_button_15_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 16);\n    i0.ɵɵlistener(\"click\", function SignUpComponent_div_5_button_15_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r9 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r9.checkOtp());\n    });\n    i0.ɵɵtext(1, \"Verify OTP\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction SignUpComponent_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r12 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 5)(1, \"p\")(2, \"label\", 6);\n    i0.ɵɵtext(3, \"BO Account Number: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"input\", 7);\n    i0.ɵɵlistener(\"ngModelChange\", function SignUpComponent_div_5_Template_input_ngModelChange_4_listener($event) {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r11 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r11.bo = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"p\")(6, \"label\", 8);\n    i0.ɵɵtext(7, \"Phone Number: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"input\", 9);\n    i0.ɵɵlistener(\"ngModelChange\", function SignUpComponent_div_5_Template_input_ngModelChange_8_listener($event) {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r13 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r13.phone = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(9, \"p\")(10, \"label\");\n    i0.ɵɵelement(11, \"input\", 10);\n    i0.ɵɵtext(12, \" Agree the terms and policy \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(13, SignUpComponent_div_5_p_13_Template, 4, 1, \"p\", 11);\n    i0.ɵɵtemplate(14, SignUpComponent_div_5_button_14_Template, 2, 0, \"button\", 12);\n    i0.ɵɵtemplate(15, SignUpComponent_div_5_button_15_Template, 2, 0, \"button\", 12);\n    i0.ɵɵelementStart(16, \"p\");\n    i0.ɵɵtext(17, \"Already have account ? \");\n    i0.ɵɵelementStart(18, \"a\", 13);\n    i0.ɵɵtext(19, \" Sign in\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.bo);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.phone);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.showOtp);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r0.showOtp);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.showOtp);\n  }\n}\nfunction SignUpComponent_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r15 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 17)(1, \"p\")(2, \"label\", 18);\n    i0.ɵɵtext(3, \"Password:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"input\", 19);\n    i0.ɵɵlistener(\"ngModelChange\", function SignUpComponent_div_6_Template_input_ngModelChange_4_listener($event) {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r14 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r14.password = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"p\")(6, \"label\", 18);\n    i0.ɵɵtext(7, \"Confirm Password:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"input\", 19);\n    i0.ɵɵlistener(\"ngModelChange\", function SignUpComponent_div_6_Template_input_ngModelChange_8_listener($event) {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r16 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r16.password2 = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(9, \"button\", 20);\n    i0.ɵɵlistener(\"click\", function SignUpComponent_div_6_Template_button_click_9_listener() {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r17 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r17.matchPassword());\n    });\n    i0.ɵɵtext(10, \"Sign Up\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.password);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.password2);\n  }\n}\nexport class SignUpComponent {\n  // form: FormGroup;\n  constructor(http) {\n    this.http = http;\n    this.bo = '';\n    this.email = '';\n    this.password = '';\n    this.password2 = '';\n    this.phone = '';\n    this.OTP = '';\n    this.showOtp = false;\n    this.showPhone = true;\n    this.verifyOtp = true;\n    this.verified = false;\n    this.baseUrl = 'http://localhost:4000/api/checkBO/';\n    this.baseUrl1 = 'http://localhost:4000/api/checkotp/';\n    this.baseUrl2 = 'http://localhost:4000/api/createAccount/';\n  }\n  // ngOnInit() {\n  //   this.form = this.formBuilder.group({\n  //     email: [null, [Validators.required, Validators.email]],\n  //     password: [null, Validators.required],\n  //   });\n  // }\n  checkBO() {\n    this.http.post(this.baseUrl, {\n      phone: this.phone,\n      bo: this.bo\n    }).subscribe(res => {\n      alert(res);\n      if (res == \"BO account is already registered\" || res == \"BO account does not exist\" || res == \"Phone number does not match\") {\n        alert(res);\n      } else {\n        this.showOtp = true;\n        this.checkOtp();\n      }\n    }, error => {\n      console.error('Error:', error);\n    });\n  }\n  checkOtp() {\n    this.http.post(this.baseUrl1, {\n      otp: this.OTP\n    }).subscribe({\n      next: res => {\n        if (res == \"1\") {\n          this.verified = true;\n        } else {\n          alert(\"OTP does not match\");\n          this.verifyOtp = false;\n        }\n      },\n      error: e => {\n        console.log('Error:', e);\n      }\n    });\n  }\n  matchPassword() {\n    if (this.password == this.password2) {\n      let hash = crypto.SHA256(this.password).toString();\n      console.log(hash);\n      const data = {\n        bo: this.bo,\n        phone: this.phone,\n        password: hash\n      };\n      this.http.post(this.baseUrl2, data).subscribe(response => {\n        if (response == \"Registered Successfully\") {\n          alert('Sign up successful');\n        } else {\n          alert('Sign up failed: ' + response.error);\n        }\n      });\n    } else {\n      alert('Password does not match.');\n    }\n  }\n}\nSignUpComponent.ɵfac = function SignUpComponent_Factory(t) {\n  return new (t || SignUpComponent)(i0.ɵɵdirectiveInject(i1.HttpClient));\n};\nSignUpComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: SignUpComponent,\n  selectors: [[\"app-sign-up\"]],\n  decls: 7,\n  vars: 2,\n  consts: [[\"id\", \"left\"], [\"id\", \"right\"], [\"action\", \"/action_page.php\"], [\"id\", \"beforeOTP\", 4, \"ngIf\"], [\"id\", \"afterOTP\", 4, \"ngIf\"], [\"id\", \"beforeOTP\"], [\"for\", \"bo\"], [\"type\", \"text\", \"id\", \"bo\", \"name\", \"bo\", \"pattern\", \"[0-9]{20}\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"phone\"], [\"type\", \"tel\", \"id\", \"phone\", \"name\", \"phone\", \"pattern\", \"[0-9]{11}\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"checkbox\"], [4, \"ngIf\"], [\"id\", \"send\", 3, \"click\", 4, \"ngIf\"], [\"routerLink\", \"login\"], [\"for\", \"otp\"], [\"type\", \"text\", \"id\", \"otp\", \"name\", \"otp\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"id\", \"send\", 3, \"click\"], [\"id\", \"afterOTP\"], [\"for\", \"password\"], [\"type\", \"password\", \"id\", \"password\", \"name\", \"password\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"submit\", 3, \"click\"]],\n  template: function SignUpComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelement(0, \"div\", 0);\n      i0.ɵɵelementStart(1, \"div\", 1)(2, \"form\", 2)(3, \"h1\");\n      i0.ɵɵtext(4, \"Sign Up\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(5, SignUpComponent_div_5_Template, 20, 5, \"div\", 3);\n      i0.ɵɵtemplate(6, SignUpComponent_div_6_Template, 11, 2, \"div\", 4);\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngIf\", !ctx.verified);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.verified);\n    }\n  },\n  dependencies: [i2.ɵNgNoValidate, i2.DefaultValueAccessor, i2.NgControlStatus, i2.NgControlStatusGroup, i2.RequiredValidator, i2.PatternValidator, i2.NgModel, i2.NgForm, i3.NgIf, i4.RouterLink],\n  styles: [\"#left[_ngcontent-%COMP%]{\\r\\n    float: left;\\r\\n    width: 40%;\\r\\n    height: 500px;\\r\\n    background-color: cornflowerblue;\\r\\n}\\r\\n#right[_ngcontent-%COMP%]{\\r\\n    float: left;\\r\\n    width: 60%;\\r\\n    height: 500px;\\r\\n}\\r\\n\\r\\nh1[_ngcontent-%COMP%]{\\r\\ntext-align: center;\\r\\npadding: 20px;\\r\\n}\\r\\nform[_ngcontent-%COMP%] {\\r\\nmargin: 20px;\\r\\npadding: 50px;\\r\\nborder-radius: 5px;\\r\\nfont-family: Arial, sans-serif;\\r\\n}\\r\\nlabel[_ngcontent-%COMP%] { \\r\\nmargin-bottom: 10px;\\r\\ndisplay: inline-block;\\r\\nfont-weight: bold;\\r\\ntext-align: right;\\r\\nwidth: 25%;\\r\\n}\\r\\n\\r\\ninput[type=\\\"text\\\"][_ngcontent-%COMP%], input[type=\\\"email\\\"][_ngcontent-%COMP%], input[type=\\\"tel\\\"][_ngcontent-%COMP%], input[type=\\\"password\\\"][_ngcontent-%COMP%]{\\r\\ndisplay: inline-block;\\r\\nmargin-bottom: 10px;\\r\\nwidth: 50%;\\r\\npadding: 10px;\\r\\nborder-radius: 5px;\\r\\nborder: 1px solid #ccc;\\r\\nbox-sizing: border-box;\\r\\nfont-size: 16px;\\r\\nfont-family: Arial, sans-serif;\\r\\n}\\r\\nbutton[_ngcontent-%COMP%]{\\r\\nbackground-color: #4CAF50;\\r\\ncolor: #fff;\\r\\ncursor: pointer;\\r\\nfloat: right;   \\r\\npadding: 10px;  \\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9zaWduLXVwL3NpZ24tdXAuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLFdBQVc7SUFDWCxVQUFVO0lBQ1YsYUFBYTtJQUNiLGdDQUFnQztBQUNwQztBQUNBO0lBQ0ksV0FBVztJQUNYLFVBQVU7SUFDVixhQUFhO0FBQ2pCOztBQUVBO0FBQ0Esa0JBQWtCO0FBQ2xCLGFBQWE7QUFDYjtBQUNBO0FBQ0EsWUFBWTtBQUNaLGFBQWE7QUFDYixrQkFBa0I7QUFDbEIsOEJBQThCO0FBQzlCO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkIscUJBQXFCO0FBQ3JCLGlCQUFpQjtBQUNqQixpQkFBaUI7QUFDakIsVUFBVTtBQUNWOztBQUVBOzs7O0FBSUEscUJBQXFCO0FBQ3JCLG1CQUFtQjtBQUNuQixVQUFVO0FBQ1YsYUFBYTtBQUNiLGtCQUFrQjtBQUNsQixzQkFBc0I7QUFDdEIsc0JBQXNCO0FBQ3RCLGVBQWU7QUFDZiw4QkFBOEI7QUFDOUI7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QixXQUFXO0FBQ1gsZUFBZTtBQUNmLFlBQVk7QUFDWixhQUFhO0FBQ2IiLCJzb3VyY2VzQ29udGVudCI6WyIjbGVmdHtcclxuICAgIGZsb2F0OiBsZWZ0O1xyXG4gICAgd2lkdGg6IDQwJTtcclxuICAgIGhlaWdodDogNTAwcHg7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBjb3JuZmxvd2VyYmx1ZTtcclxufVxyXG4jcmlnaHR7XHJcbiAgICBmbG9hdDogbGVmdDtcclxuICAgIHdpZHRoOiA2MCU7XHJcbiAgICBoZWlnaHQ6IDUwMHB4O1xyXG59XHJcblxyXG5oMXtcclxudGV4dC1hbGlnbjogY2VudGVyO1xyXG5wYWRkaW5nOiAyMHB4O1xyXG59XHJcbmZvcm0ge1xyXG5tYXJnaW46IDIwcHg7XHJcbnBhZGRpbmc6IDUwcHg7XHJcbmJvcmRlci1yYWRpdXM6IDVweDtcclxuZm9udC1mYW1pbHk6IEFyaWFsLCBzYW5zLXNlcmlmO1xyXG59XHJcbmxhYmVsIHsgXHJcbm1hcmdpbi1ib3R0b206IDEwcHg7XHJcbmRpc3BsYXk6IGlubGluZS1ibG9jaztcclxuZm9udC13ZWlnaHQ6IGJvbGQ7XHJcbnRleHQtYWxpZ246IHJpZ2h0O1xyXG53aWR0aDogMjUlO1xyXG59XHJcblxyXG5pbnB1dFt0eXBlPVwidGV4dFwiXSxcclxuaW5wdXRbdHlwZT1cImVtYWlsXCJdLFxyXG5pbnB1dFt0eXBlPVwidGVsXCJdLFxyXG5pbnB1dFt0eXBlPVwicGFzc3dvcmRcIl17XHJcbmRpc3BsYXk6IGlubGluZS1ibG9jaztcclxubWFyZ2luLWJvdHRvbTogMTBweDtcclxud2lkdGg6IDUwJTtcclxucGFkZGluZzogMTBweDtcclxuYm9yZGVyLXJhZGl1czogNXB4O1xyXG5ib3JkZXI6IDFweCBzb2xpZCAjY2NjO1xyXG5ib3gtc2l6aW5nOiBib3JkZXItYm94O1xyXG5mb250LXNpemU6IDE2cHg7XHJcbmZvbnQtZmFtaWx5OiBBcmlhbCwgc2Fucy1zZXJpZjtcclxufVxyXG5idXR0b257XHJcbmJhY2tncm91bmQtY29sb3I6ICM0Q0FGNTA7XHJcbmNvbG9yOiAjZmZmO1xyXG5jdXJzb3I6IHBvaW50ZXI7XHJcbmZsb2F0OiByaWdodDsgICBcclxucGFkZGluZzogMTBweDsgIFxyXG59XHJcblxyXG4iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"mappings":"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","names":["crypto","i0","SignUpComponent","constructor","http","checkBO","post","baseUrl","phone","bo","subscribe","res","alert","showOtp","checkOtp","error","console","baseUrl1","otp","OTP","next","verified","verifyOtp","e","log","matchPassword","password","password2","hash","SHA256","toString","data","baseUrl2","response","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["E:\\Codes\\semester 5\\stockTech_frontend\\src\\app\\components\\sign-up\\sign-up.component.ts","E:\\Codes\\semester 5\\stockTech_frontend\\src\\app\\components\\sign-up\\sign-up.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport * as crypto from 'crypto-js';\n\n@Component({\n  selector: 'app-sign-up',\n  templateUrl: './sign-up.component.html',\n  styleUrls: ['./sign-up.component.css']\n})\n\nexport class SignUpComponent {\n  bo: string = '';\n  email: string = '';\n  password: string = '';\n  password2: string = '';\n  phone: string = '';\n  OTP: string = '';\n  showOtp: boolean = false;\n  showPhone: boolean = true;\n  verifyOtp: boolean = true;\n  verified: boolean = false;\n\n\n  baseUrl = 'http://localhost:4000/api/checkBO/';\n  baseUrl1 = 'http://localhost:4000/api/checkotp/';\n  baseUrl2 = 'http://localhost:4000/api/createAccount/';\n\n  // form: FormGroup;\n  constructor(private http: HttpClient) { }\n\n  // ngOnInit() {\n  //   this.form = this.formBuilder.group({\n  //     email: [null, [Validators.required, Validators.email]],\n  //     password: [null, Validators.required],\n  //   });\n  // }\n\n  checkBO() {\n    this.http.post(this.baseUrl, { phone: this.phone,bo:this.bo }).subscribe(\n      (res) => {\n        alert(res);\n        if((res==\"BO account is already registered\")||(res==\"BO account does not exist\")||(res==\"Phone number does not match\")){\n          alert(res);\n        }\n        else{\n        this.showOtp = true;\n        this.checkOtp();}\n      },\n      (error) => {\n        console.error('Error:', error);\n      }\n    );\n  }\n\n  checkOtp() {\n    this.http.post(this.baseUrl1, { otp: this.OTP }).subscribe({\n      next: (res) => {\n        if (res == \"1\") {\n          this.verified = true;\n        }\n        else { \n          alert(\"OTP does not match\");\n          this.verifyOtp = false; }\n      },\n      error: (e) => {\n        console.log('Error:', e);\n      }\n    });\n  }\n\n  matchPassword() {\n    if (this.password == this.password2) {\n      let hash = crypto.SHA256(this.password).toString();\n      console.log(hash);\n      const data = { bo: this.bo, phone: this.phone, password: hash };\n      this.http.post(this.baseUrl2, data)\n        .subscribe((response: any) => {\n          if (response == \"Registered Successfully\") {\n            alert('Sign up successful');\n          } else {\n            alert('Sign up failed: ' + response.error);\n          }\n        });\n    }\n    else {\n      alert('Password does not match.');\n    }\n  }\n}","<div id=\"left\">\n\n</div>\n\n<div id=\"right\">\n        <form action=\"/action_page.php\">\n                <h1>Sign Up</h1>\n                <div id=\"beforeOTP\" *ngIf=\"!verified\">\n                        <p><label for=\"bo\">BO Account Number: </label> <input type=\"text\" [(ngModel)]=\"bo\" id=\"bo\"\n                                        name=\"bo\" pattern=\"[0-9]{20}\" required></p>\n                        <!-- <div *ngIf=\"bo.errors?.['required']\">\n                        Name is required.\n                      </div> -->\n                        <p><label for=\"phone\">Phone Number: </label> <input type=\"tel\" [(ngModel)]=\"phone\" id=\"phone\"\n                                        name=\"phone\" pattern=\"[0-9]{11}\" required></p>\n                        <p><label><input type=\"checkbox\"> Agree the terms and policy </label></p>\n                        <p *ngIf=\"showOtp\"><label for=\"otp\">OTP: </label> <input type=\"text\" [(ngModel)]=\"OTP\" id=\"otp\"\n                                        name=\"otp\" required></p>\n                        <button (click)=\"checkBO()\" id=\"send\" *ngIf=\"!showOtp\">Send OTP</button>\n                        <button (click)=\"checkOtp()\" id=\"send\" *ngIf=\"showOtp\">Verify OTP</button>\n                        <p>Already have account ? <a routerLink=\"login\"> Sign in</a></p>\n                </div>\n\n                <div id=\"afterOTP\" *ngIf=\"verified\">\n                        <p><label for=\"password\">Password:</label> <input type=\"password\" [(ngModel)]=\"password\"\n                                        id=\"password\" name=\"password\" required></p>\n                        <p><label for=\"password\">Confirm Password:</label> <input type=\"password\"\n                                        [(ngModel)]=\"password2\" id=\"password\" name=\"password\" required></p>\n                        <button (click)=\"matchPassword()\" type=\"submit\">Sign Up</button>\n\n                </div>\n\n        </form>\n</div>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}