{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"@angular/common\";\nfunction SignUpComponent_div_3_p_13_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"p\")(1, \"label\", 12);\n    i0.ɵɵtext(2, \"OTP: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"input\", 13);\n    i0.ɵɵlistener(\"ngModelChange\", function SignUpComponent_div_3_p_13_Template_input_ngModelChange_3_listener($event) {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r6 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r6.OTP = $event);\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", ctx_r2.OTP);\n  }\n}\nfunction SignUpComponent_div_3_button_14_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 14);\n    i0.ɵɵlistener(\"click\", function SignUpComponent_div_3_button_14_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r8 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r8.sendPhone());\n    });\n    i0.ɵɵtext(1, \"Send OTP\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction SignUpComponent_div_3_button_15_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 14);\n    i0.ɵɵlistener(\"click\", function SignUpComponent_div_3_button_15_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r10 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r10.sendOtp());\n    });\n    i0.ɵɵtext(1, \"Verify OTP\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction SignUpComponent_div_3_p_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1, \"OTP did not match. Try again!\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction SignUpComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r13 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 3)(1, \"p\")(2, \"label\", 4);\n    i0.ɵɵtext(3, \"BO Account Number: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"input\", 5);\n    i0.ɵɵlistener(\"ngModelChange\", function SignUpComponent_div_3_Template_input_ngModelChange_4_listener($event) {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r12 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r12.bo = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"p\")(6, \"label\", 6);\n    i0.ɵɵtext(7, \"Email: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"input\", 7);\n    i0.ɵɵlistener(\"ngModelChange\", function SignUpComponent_div_3_Template_input_ngModelChange_8_listener($event) {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r14 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r14.email = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(9, \"p\")(10, \"label\", 8);\n    i0.ɵɵtext(11, \"Phone Number: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"input\", 9);\n    i0.ɵɵlistener(\"ngModelChange\", function SignUpComponent_div_3_Template_input_ngModelChange_12_listener($event) {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r15 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r15.Phone = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(13, SignUpComponent_div_3_p_13_Template, 4, 1, \"p\", 10);\n    i0.ɵɵtemplate(14, SignUpComponent_div_3_button_14_Template, 2, 0, \"button\", 11);\n    i0.ɵɵtemplate(15, SignUpComponent_div_3_button_15_Template, 2, 0, \"button\", 11);\n    i0.ɵɵtemplate(16, SignUpComponent_div_3_p_16_Template, 2, 0, \"p\", 10);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.bo);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.email);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.Phone);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.showOtp);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.showPhone);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.showOtp);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r0.verifyOtp);\n  }\n}\nfunction SignUpComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r17 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 15)(1, \"p\")(2, \"label\", 16);\n    i0.ɵɵtext(3, \"Password:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"input\", 17);\n    i0.ɵɵlistener(\"ngModelChange\", function SignUpComponent_div_4_Template_input_ngModelChange_4_listener($event) {\n      i0.ɵɵrestoreView(_r17);\n      const ctx_r16 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r16.password = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"p\")(6, \"label\", 16);\n    i0.ɵɵtext(7, \"Confirm Password:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"input\", 17);\n    i0.ɵɵlistener(\"ngModelChange\", function SignUpComponent_div_4_Template_input_ngModelChange_8_listener($event) {\n      i0.ɵɵrestoreView(_r17);\n      const ctx_r18 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r18.password2 = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(9, \"button\", 18);\n    i0.ɵɵlistener(\"click\", function SignUpComponent_div_4_Template_button_click_9_listener() {\n      i0.ɵɵrestoreView(_r17);\n      const ctx_r19 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r19.matchPassword());\n    });\n    i0.ɵɵtext(10, \"Sign Up\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.password);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.password2);\n  }\n}\nexport class SignUpComponent {\n  constructor(http) {\n    this.http = http;\n    this.bo = '';\n    this.email = '';\n    this.password = '';\n    this.password2 = '';\n    this.Phone = '';\n    this.OTP = '';\n    this.showOtp = false;\n    this.showPhone = true;\n    this.verifyOtp = true;\n    this.verified = false;\n    this.baseUrl = 'http://localhost:4000/api/verifyPhone/';\n    this.baseUrl1 = 'http://localhost:4000/api/checkotp/';\n  }\n  ngOnInit() {\n    this.form = this.formBuilder.group({\n      email: [null, [Validators.required, Validators.email]],\n      password: [null, Validators.required]\n    });\n  }\n  sendPhone() {\n    this.http.post(this.baseUrl, {\n      phone: this.Phone\n    }).subscribe(response => {\n      this.showOtp = true;\n      this.showPhone = false;\n    }, error => {\n      console.error('Error:', error);\n    });\n  }\n  sendOtp() {\n    this.http.post(this.baseUrl1, {\n      otp: this.OTP\n    }).subscribe({\n      next: res => {\n        if (res == \"1\") {\n          this.verified = true;\n        } else {\n          this.verifyOtp = false;\n        }\n      },\n      error: e => {\n        console.log('Error:', e);\n      }\n    });\n  }\n  matchPassword() {\n    if (this.password == this.password2) {\n      const data = {\n        BO: this.bo,\n        phone: this.Phone,\n        email: this.email,\n        password: this.password\n      };\n      this.http.post('http://localhost:4000/create-account', data).subscribe(response => {\n        alert('Account created successfully');\n      });\n    } else {\n      alert('Password does not match.');\n    }\n  }\n}\nSignUpComponent.ɵfac = function SignUpComponent_Factory(t) {\n  return new (t || SignUpComponent)(i0.ɵɵdirectiveInject(i1.HttpClient));\n};\nSignUpComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: SignUpComponent,\n  selectors: [[\"app-sign-up\"]],\n  decls: 5,\n  vars: 2,\n  consts: [[\"action\", \"/action_page.php\"], [\"id\", \"beforeOTP\", 4, \"ngIf\"], [\"id\", \"afterOTP\", 4, \"ngIf\"], [\"id\", \"beforeOTP\"], [\"for\", \"bo\"], [\"type\", \"text\", \"id\", \"bo\", \"name\", \"bo\", \"pattern\", \"[0-9]{20}\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"email\"], [\"type\", \"email\", \"id\", \"email\", \"name\", \"email\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"phone\"], [\"type\", \"tel\", \"id\", \"phone\", \"name\", \"phone\", \"pattern\", \"[0-9]{11}\", 3, \"ngModel\", \"ngModelChange\"], [4, \"ngIf\"], [\"id\", \"send\", 3, \"click\", 4, \"ngIf\"], [\"for\", \"otp\"], [\"type\", \"text\", \"id\", \"otp\", \"name\", \"otp\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"id\", \"send\", 3, \"click\"], [\"id\", \"afterOTP\"], [\"for\", \"password\"], [\"type\", \"password\", \"id\", \"password\", \"name\", \"password\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"submit\", 3, \"click\"]],\n  template: function SignUpComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"form\", 0)(1, \"h1\");\n      i0.ɵɵtext(2, \"Sign Up\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(3, SignUpComponent_div_3_Template, 17, 7, \"div\", 1);\n      i0.ɵɵtemplate(4, SignUpComponent_div_4_Template, 11, 2, \"div\", 2);\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngIf\", !ctx.verified);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.verified);\n    }\n  },\n  dependencies: [i2.ɵNgNoValidate, i2.DefaultValueAccessor, i2.NgControlStatus, i2.NgControlStatusGroup, i2.RequiredValidator, i2.PatternValidator, i2.NgModel, i2.NgForm, i3.NgIf],\n  styles: [\"body[_ngcontent-%COMP%]{\\r\\n    background-color: #f2f2f2;\\r\\n}\\r\\nh1[_ngcontent-%COMP%]{\\r\\ntext-align: center;\\r\\npadding: 20px;\\r\\n}\\r\\nform[_ngcontent-%COMP%] {\\r\\nmargin: 20px;\\r\\npadding: 50px;\\r\\nborder-radius: 5px;\\r\\nfont-family: Arial, sans-serif;\\r\\n}\\r\\nlabel[_ngcontent-%COMP%] { \\r\\nmargin-bottom: 10px;\\r\\ndisplay: inline-block;\\r\\nfont-weight: bold;\\r\\ntext-align: right;\\r\\nwidth: 25%;\\r\\n}\\r\\n\\r\\ninput[type=\\\"text\\\"][_ngcontent-%COMP%], input[type=\\\"email\\\"][_ngcontent-%COMP%], input[type=\\\"tel\\\"][_ngcontent-%COMP%], input[type=\\\"password\\\"][_ngcontent-%COMP%]{\\r\\ndisplay: inline-block;\\r\\nmargin-bottom: 10px;\\r\\nwidth: 50%;\\r\\npadding: 10px;\\r\\nborder-radius: 5px;\\r\\nborder: 1px solid #ccc;\\r\\nbox-sizing: border-box;\\r\\nfont-size: 16px;\\r\\nfont-family: Arial, sans-serif;\\r\\n}\\r\\nbutton[_ngcontent-%COMP%]{\\r\\nbackground-color: #4CAF50;\\r\\ncolor: #fff;\\r\\ncursor: pointer;\\r\\nfloat: right;   \\r\\npadding: 10px;  \\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9zaWduLXVwL3NpZ24tdXAuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQ0E7SUFDSSx5QkFBeUI7QUFDN0I7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQixhQUFhO0FBQ2I7QUFDQTtBQUNBLFlBQVk7QUFDWixhQUFhO0FBQ2Isa0JBQWtCO0FBQ2xCLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0EsbUJBQW1CO0FBQ25CLHFCQUFxQjtBQUNyQixpQkFBaUI7QUFDakIsaUJBQWlCO0FBQ2pCLFVBQVU7QUFDVjs7QUFFQTs7OztBQUlBLHFCQUFxQjtBQUNyQixtQkFBbUI7QUFDbkIsVUFBVTtBQUNWLGFBQWE7QUFDYixrQkFBa0I7QUFDbEIsc0JBQXNCO0FBQ3RCLHNCQUFzQjtBQUN0QixlQUFlO0FBQ2YsOEJBQThCO0FBQzlCO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekIsV0FBVztBQUNYLGVBQWU7QUFDZixZQUFZO0FBQ1osYUFBYTtBQUNiIiwic291cmNlc0NvbnRlbnQiOlsiXHJcbmJvZHl7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjJmMmYyO1xyXG59XHJcbmgxe1xyXG50ZXh0LWFsaWduOiBjZW50ZXI7XHJcbnBhZGRpbmc6IDIwcHg7XHJcbn1cclxuZm9ybSB7XHJcbm1hcmdpbjogMjBweDtcclxucGFkZGluZzogNTBweDtcclxuYm9yZGVyLXJhZGl1czogNXB4O1xyXG5mb250LWZhbWlseTogQXJpYWwsIHNhbnMtc2VyaWY7XHJcbn1cclxubGFiZWwgeyBcclxubWFyZ2luLWJvdHRvbTogMTBweDtcclxuZGlzcGxheTogaW5saW5lLWJsb2NrO1xyXG5mb250LXdlaWdodDogYm9sZDtcclxudGV4dC1hbGlnbjogcmlnaHQ7XHJcbndpZHRoOiAyNSU7XHJcbn1cclxuXHJcbmlucHV0W3R5cGU9XCJ0ZXh0XCJdLFxyXG5pbnB1dFt0eXBlPVwiZW1haWxcIl0sXHJcbmlucHV0W3R5cGU9XCJ0ZWxcIl0sXHJcbmlucHV0W3R5cGU9XCJwYXNzd29yZFwiXXtcclxuZGlzcGxheTogaW5saW5lLWJsb2NrO1xyXG5tYXJnaW4tYm90dG9tOiAxMHB4O1xyXG53aWR0aDogNTAlO1xyXG5wYWRkaW5nOiAxMHB4O1xyXG5ib3JkZXItcmFkaXVzOiA1cHg7XHJcbmJvcmRlcjogMXB4IHNvbGlkICNjY2M7XHJcbmJveC1zaXppbmc6IGJvcmRlci1ib3g7XHJcbmZvbnQtc2l6ZTogMTZweDtcclxuZm9udC1mYW1pbHk6IEFyaWFsLCBzYW5zLXNlcmlmO1xyXG59XHJcbmJ1dHRvbntcclxuYmFja2dyb3VuZC1jb2xvcjogIzRDQUY1MDtcclxuY29sb3I6ICNmZmY7XHJcbmN1cnNvcjogcG9pbnRlcjtcclxuZmxvYXQ6IHJpZ2h0OyAgIFxyXG5wYWRkaW5nOiAxMHB4OyAgXHJcbn1cclxuXHJcbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"mappings":"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","names":["Validators","i0","SignUpComponent","constructor","http","ngOnInit","form","formBuilder","group","email","required","password","sendPhone","post","baseUrl","phone","Phone","subscribe","response","showOtp","showPhone","error","console","sendOtp","baseUrl1","otp","OTP","next","res","verified","verifyOtp","e","log","matchPassword","password2","data","BO","bo","alert","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["E:\\Codes\\semester 5\\stockTech_frontend\\src\\app\\components\\sign-up\\sign-up.component.ts","E:\\Codes\\semester 5\\stockTech_frontend\\src\\app\\components\\sign-up\\sign-up.component.html"],"sourcesContent":["// import { Component } from '@angular/core';\nimport { Component, OnInit } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { Router } from '@angular/router';\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\n\n\n@Component({\n  selector: 'app-sign-up',\n  templateUrl: './sign-up.component.html',\n  styleUrls: ['./sign-up.component.css']\n})\n\nexport class SignUpComponent {\n  bo: string= '';\n  email: string = '';\n  password: string= '';\n  password2: string= '';\n  Phone: string = '';\n  OTP: string = '';\n  showOtp: boolean = false;\n  showPhone: boolean = true;\n  verifyOtp: boolean = true;\n  verified: boolean =false;\n\n  baseUrl = 'http://localhost:4000/api/verifyPhone/';\n  baseUrl1 = 'http://localhost:4000/api/checkotp/';\n\n  form: FormGroup;\n  constructor(private http: HttpClient) { }\n\n  ngOnInit() {\n    this.form = this.formBuilder.group({\n      email: [null, [Validators.required, Validators.email]],\n      password: [null, Validators.required],\n    });\n  }\n\n  sendPhone() {\n    this.http.post(this.baseUrl, { phone: this.Phone }).subscribe(\n      (response) => {\n        this.showOtp = true;\n        this.showPhone = false;\n      },\n      (error) => {\n        console.error('Error:', error);\n      }\n    );\n\n  }\n  \n  sendOtp() {\n    this.http.post(this.baseUrl1, { otp: this.OTP }).subscribe({\n      next: (res) =>{\n        if(res==\"1\"){\n          this.verified=true;\n        }\n        else{this.verifyOtp=false;}\n      },    \n      error: (e) => {\n        console.log('Error:', e);\n      }\n    });\n\n  }\n\nmatchPassword(){\n    if(this.password==this.password2){\n      const data = { BO: this.bo, phone: this.Phone, email: this.email, password: this.password };\n      this.http.post('http://localhost:4000/create-account', data)\n        .subscribe((response: any) => {\n          alert('Account created successfully');\n        });\n    }\n    else{\n      alert('Password does not match.');\n    }\n    \n}\n\n\n  // onVerifyOTP() {\n  //   // Verify OTP entered by user\n  //   const data = { phoneNumber: this.Phone, otp: this.OTP };\n  //   this.http.post('http://localhost:4000/verify-otp', data)\n  //     .subscribe((response: any) => {\n  //       if (response.success) {\n  //         // OTP verification successful, set password and create account\n  //         const data = { accountNumber: this.bo, phoneNumber: this.Phone, email: this.email, password: this.password };\n  //         this.http.post('http://localhost:8000/create-account', data)\n  //           .subscribe((response: any) => {\n  //             alert('Account created successfully');\n  //           });\n  //       } else {\n  //         alert('Invalid OTP');\n  //       }\n  //     });\n  // }\n}","<form action=\"/action_page.php\">\n    <h1>Sign Up</h1>\n    <div id=\"beforeOTP\" *ngIf=\"!verified\">\n        <p><label for=\"bo\">BO Account Number: </label> <input type=\"text\" [(ngModel)]=\"bo\" id=\"bo\" name=\"bo\"\n                pattern=\"[0-9]{20}\"></p>\n        <p><label for=\"email\">Email: </label> <input type=\"email\" [(ngModel)]=\"email\" id=\"email\" name=\"email\"></p>\n        <p><label for=\"phone\">Phone Number: </label> <input type=\"tel\" [(ngModel)]=\"Phone\" id=\"phone\" name=\"phone\"\n                pattern=\"[0-9]{11}\"></p>\n        <p *ngIf=\"showOtp\"><label for=\"otp\">OTP: </label> <input type=\"text\" [(ngModel)]=\"OTP\" id=\"otp\" name=\"otp\"\n                required></p>\n        <button (click)=\"sendPhone()\" id=\"send\" *ngIf=\"showPhone\">Send OTP</button>\n        <button (click)=\"sendOtp()\" id=\"send\" *ngIf=\"showOtp\">Verify OTP</button>\n        <p *ngIf=\"!verifyOtp\">OTP did not match. Try again!</p>\n    </div>\n\n    <div id=\"afterOTP\" *ngIf=\"verified\">\n        <p><label for=\"password\">Password:</label> <input type=\"password\" [(ngModel)]=\"password\" id=\"password\"\n                name=\"password\" required></p>\n        <p><label for=\"password\">Confirm Password:</label> <input type=\"password\"  [(ngModel)]=\"password2\" id=\"password\" name=\"password\"\n                required></p>\n        <button (click)=\"matchPassword()\" type=\"submit\">Sign Up</button>\n    </div>\n\n</form>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}