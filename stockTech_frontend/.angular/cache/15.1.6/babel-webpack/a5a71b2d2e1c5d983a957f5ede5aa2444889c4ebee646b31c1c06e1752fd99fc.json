{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/market-data.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"angular-datatables\";\nimport * as i5 from \"ng-apexcharts\";\nfunction HomeComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"div\", 9);\n  }\n}\nfunction HomeComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 9)(1, \"h3\");\n    i0.ɵɵtext(2, \"Company Data\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"table\", 10);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"dtOptions\", ctx_r1.dtOptions);\n  }\n}\nexport class HomeComponent {\n  constructor(MarketDataService, router) {\n    this.MarketDataService = MarketDataService;\n    this.router = router;\n    this.dtOptions = {};\n    this.dataAvail = true;\n    this.spinner = true;\n    this.y = Array(3).fill(0);\n    this.search = '';\n  }\n  ngOnInit() {\n    this.renderDataTable();\n    this.receiveMarketData().subscribe(data => {\n      data = data.filter(function (dat) {\n        return dat.trading_code != '';\n      });\n      this.spinner = false;\n      this.dtOptions.data = data;\n      this.dataAvail = true;\n    });\n    this.renderIndiceGraph(\"dsex\");\n    this.renderIndiceGraph2(\"dses\");\n    this.renderIndiceGraph3(\"ds30\");\n    this.renderPieChart();\n    this.renderSectorGraph();\n  }\n  receiveMarketData() {\n    return this.MarketDataService.getMarketData();\n  }\n  receiveDseIndices() {\n    return this.MarketDataService.getIndices();\n  }\n  receiveSectors() {\n    return this.MarketDataService.getSectorWiseData();\n  }\n  someClickHandler(info) {\n    console.log(info.trading_code);\n    this.router.navigate([\"companyProfile/\" + info.trading_code]);\n  }\n  renderDataTable() {\n    this.dtOptions = {\n      lengthChange: false,\n      language: {\n        paginate: {\n          next: '>',\n          last: 'Last',\n          first: 'First',\n          previous: '<'\n        },\n        searchPlaceholder: \"Search...\",\n        search: \"\"\n      },\n      pageLength: 20,\n      columnDefs: [{\n        width: '30em',\n        targets: [0, 1, 2, 3, 4]\n      }, {\n        name: 'some name',\n        targets: 0\n      }, {\n        orderable: true,\n        targets: [0, 1]\n      }],\n      columns: [{\n        title: 'CODE',\n        data: 'trading_code',\n        render: function (data, type, row) {\n          row.trading_code = row.trading_code.replace(/ /g, '-');\n          if (type === 'display') {\n            if (row.change < 0) {\n              data = '<a style=\"color:red;\" href=\"' + row.scrip + '/' + row.trading_code + '\">' + data + '</a>';\n            } else if (row.change == 0) {\n              data = '<a style=\"color:#2a76e8;\" href=\"' + row.scrip + '/' + row.trading_code + '\">' + data + '</a>';\n            } else {\n              data = '<a style=\"color:green;\" href=\"' + row.scrip + '/' + row.trading_code + '\">' + data + '</a>';\n            }\n          }\n          return data;\n        }\n      }, {\n        title: 'LTP',\n        data: 'ltp'\n      }, {\n        title: 'CLOSEP',\n        data: 'closep'\n      }, {\n        title: 'CHANGE',\n        data: 'change',\n        render: function (data, type, row) {\n          if (type === 'display') {\n            if (row.change < 0) {\n              data = '<span style=\"color:red;\">' + data + '</span>';\n            } else if (row.change == 0) {\n              data = '<span style=\"color:#2a76e8;\">' + data + '</span>';\n            } else {\n              data = '<span style=\"color:green;\">' + data + '</span>';\n            }\n          }\n          return data;\n        }\n      }, {\n        title: 'YCP',\n        data: 'ycp'\n      }],\n      rowCallback: (row, data, index) => {\n        const self = this;\n        $('td', row).off('click');\n        $('td', row).on('click', () => {\n          self.someClickHandler(data);\n        });\n        return row;\n      }\n    };\n  }\n  renderIndiceGraph(index) {\n    this.receiveDseIndices().subscribe(data1 => {\n      const data2 = data1[index];\n      const data = Object.entries(data2).map(([x, y]) => ({\n        x: parseInt(x),\n        y: y\n      }));\n      this.lineGraph = {\n        chart: {\n          type: 'area',\n          height: '140%',\n          width: '100%',\n          zoom: {\n            type: 'x',\n            enabled: true,\n            autoScaleYaxis: true\n          }\n        },\n        // title: {\n        //   text: index,\n        //   align: 'center',\n        // },\n        series: [{\n          name: 'Index',\n          data: data\n        }],\n        xaxis: {\n          type: 'datetime',\n          labels: {\n            format: 'h:mm'\n          }\n        },\n        fill: {\n          colors: ['#ffffff'],\n          type: 'gradient',\n          gradient: {\n            shadeIntensity: 1,\n            inverseColors: false,\n            opacityFrom: 0.7,\n            opacityTo: 0.6,\n            stops: [0, 90, 100]\n          }\n        },\n        grid: {\n          borderColor: '#f1f1f1'\n        }\n      };\n      this.lineGraph.render();\n    });\n  }\n  renderIndiceGraph2(index) {\n    this.receiveDseIndices().subscribe(data1 => {\n      const data2 = data1[index];\n      const data = Object.entries(data2).map(([x, y]) => ({\n        x: parseInt(x),\n        y: y\n      }));\n      this.lineGraph2 = {\n        chart: {\n          type: 'area',\n          height: '140%',\n          width: '100%',\n          zoom: {\n            type: 'x',\n            enabled: true,\n            autoScaleYaxis: true\n          }\n        },\n        series: [{\n          name: 'Index',\n          data: data\n        }],\n        xaxis: {\n          type: 'datetime',\n          labels: {\n            format: 'h:mm'\n          }\n        }\n      };\n      this.lineGraph.render();\n    });\n  }\n  renderIndiceGraph3(index) {\n    this.receiveDseIndices().subscribe(data1 => {\n      const data2 = data1[index];\n      const data = Object.entries(data2).map(([x, y]) => ({\n        x: parseInt(x),\n        y: y\n      }));\n      this.lineGraph3 = {\n        chart: {\n          type: 'area',\n          height: '140%',\n          width: '100%',\n          zoom: {\n            type: 'x',\n            enabled: true,\n            autoScaleYaxis: true\n          }\n        },\n        series: [{\n          name: 'Index',\n          data: data\n        }],\n        xaxis: {\n          type: 'datetime',\n          labels: {\n            format: 'h:mm'\n          }\n        }\n      };\n      this.lineGraph.render();\n    });\n  }\n  renderPieChart() {\n    this.receiveMarketData().subscribe(data => {\n      for (let i = 0; i < data.length; i++) {\n        if (data[i].change > 0) {\n          this.y[0]++;\n        } else if (data[i].change < 0) {\n          this.y[1]++;\n        } else {\n          this.y[2]++;\n        }\n      }\n      const categories = ['Gainers', 'Losers', 'Neutral'];\n      const colours = ['#0B6623', '#d32f2f', '#00008B'];\n      console.log(this.y);\n      this.pieChart = {\n        chart: {\n          type: 'donut',\n          height: '180%',\n          width: '100%'\n        },\n        series: this.y,\n        labels: categories,\n        colors: colours\n      };\n    });\n  }\n  renderSectorGraph() {\n    this.receiveSectors().subscribe(data1 => {\n      this.barGraph = {\n        series: [{\n          name: 'Gainer',\n          data: data1[\"Winner\"],\n          color: '#0B6623'\n        }, {\n          name: 'Loser',\n          data: data1[\"Loser\"],\n          color: '#d32f2f'\n        }, {\n          name: 'Neutral',\n          data: data1[\"Neutral\"],\n          color: '#2196f3'\n        }],\n        chart: {\n          type: 'bar',\n          height: 500,\n          stacked: true\n        },\n        plotOptions: {\n          bar: {\n            horizontal: true,\n            dataLabels: {\n              total: {\n                enabled: true,\n                offsetX: 0,\n                style: {\n                  fontSize: '13px',\n                  fontWeight: 900\n                }\n              }\n            }\n          }\n        },\n        stroke: {\n          width: 1,\n          colors: ['#fff']\n        },\n        xaxis: {\n          categories: data1[\"Category\"]\n        },\n        yaxis: {\n          title: {\n            text: undefined\n          }\n        },\n        fill: {\n          opacity: 1,\n          colors: ['#0B6623', '#d32f2f', '#2196f3'] // set colors for each series,\n        },\n\n        legend: {\n          position: 'top',\n          horizontalAlign: 'left',\n          offsetX: 40\n        }\n      };\n      this.barGraph.render();\n    });\n  }\n}\nHomeComponent.ɵfac = function HomeComponent_Factory(t) {\n  return new (t || HomeComponent)(i0.ɵɵdirectiveInject(i1.MarketDataService), i0.ɵɵdirectiveInject(i2.Router));\n};\nHomeComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: HomeComponent,\n  selectors: [[\"app-home\"]],\n  decls: 25,\n  vars: 29,\n  consts: [[\"id\", \"left\", 4, \"ngIf\"], [\"id\", \"right1\"], [3, \"series\", \"chart\", \"xaxis\"], [\"id\", \"right2\"], [\"id\", \"right3\"], [\"id\", \"left2\"], [3, \"series\", \"chart\", \"xaxis\", \"stroke\", \"tooltip\", \"dataLabels\", \"legend\", \"markers\", \"grid\", \"yaxis\", \"fill\", \"title\", \"plotOptions\"], [\"id\", \"right4\"], [3, \"series\", \"chart\", \"labels\", \"xaxis\", \"colors\"], [\"id\", \"left\"], [\"datatable\", \"\", 1, \"hover\", 3, \"dtOptions\"]],\n  template: function HomeComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\")(1, \"h1\");\n      i0.ɵɵtext(2, \"Welcome to StockTech!\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(3, HomeComponent_div_3_Template, 1, 0, \"div\", 0);\n      i0.ɵɵtemplate(4, HomeComponent_div_4_Template, 4, 1, \"div\", 0);\n      i0.ɵɵelementStart(5, \"div\", 1)(6, \"h3\");\n      i0.ɵɵtext(7, \"DSEX\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(8, \"apx-chart\", 2);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"div\", 3)(10, \"h3\");\n      i0.ɵɵtext(11, \"DSES\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(12, \"apx-chart\", 2);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"div\", 4)(14, \"h3\");\n      i0.ɵɵtext(15, \"DS30\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(16, \"apx-chart\", 2);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(17, \"div\", 5)(18, \"h3\");\n      i0.ɵɵtext(19, \"Sector wise data\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(20, \"apx-chart\", 6);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(21, \"div\", 7)(22, \"h3\");\n      i0.ɵɵtext(23, \"Gainer-Loser Ratio\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(24, \"apx-chart\", 8);\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngIf\", ctx.spinner);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", !ctx.spinner);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"series\", ctx.lineGraph.series)(\"chart\", ctx.lineGraph.chart)(\"xaxis\", ctx.lineGraph.xaxis);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"series\", ctx.lineGraph2.series)(\"chart\", ctx.lineGraph2.chart)(\"xaxis\", ctx.lineGraph2.xaxis);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"series\", ctx.lineGraph3.series)(\"chart\", ctx.lineGraph3.chart)(\"xaxis\", ctx.lineGraph3.xaxis);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"series\", ctx.barGraph.series)(\"chart\", ctx.barGraph.chart)(\"xaxis\", ctx.barGraph.xaxis)(\"stroke\", ctx.barGraph.stroke)(\"tooltip\", ctx.barGraph.tooltip)(\"dataLabels\", ctx.barGraph.dataLabels)(\"legend\", ctx.barGraph.legend)(\"markers\", ctx.barGraph.markers)(\"grid\", ctx.barGraph.grid)(\"yaxis\", ctx.barGraph.yaxis)(\"fill\", ctx.barGraph.fill)(\"title\", ctx.barGraph.title)(\"plotOptions\", ctx.barGraph.plotOptions);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"series\", ctx.pieChart.series)(\"chart\", ctx.pieChart.chart)(\"labels\", ctx.pieChart.labels)(\"xaxis\", ctx.pieChart.xaxis)(\"colors\", ctx.pieChart.colors);\n    }\n  },\n  dependencies: [i3.NgIf, i4.DataTableDirective, i5.ChartComponent],\n  styles: [\"h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{\\r\\n    text-align: center;\\r\\n    color: black;\\r\\n  }\\r\\n\\r\\n  #left[_ngcontent-%COMP%]{\\r\\n    height: 1000px;\\r\\n    width: 60%;\\r\\n    float: left;        \\r\\n    padding-top: 20px;\\r\\n  }\\r\\n\\r\\n  #left2[_ngcontent-%COMP%]{\\r\\n    float:left;\\r\\n    height: 600px;\\r\\n    width: 60%;\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n  }\\r\\n  \\r\\n  #right1[_ngcontent-%COMP%], #right2[_ngcontent-%COMP%], #right3[_ngcontent-%COMP%], #right4[_ngcontent-%COMP%]{\\r\\n    float: left;\\r\\n    height: 400px;\\r\\n    width: 40%;\\r\\n    display: flex;   \\r\\n    flex-direction: column;\\r\\n  }\\r\\n\\r\\n  #right1[_ngcontent-%COMP%]{\\r\\n    padding-top: 20px;\\r\\n  }\\r\\n\\r\\na[_ngcontent-%COMP%] {\\r\\n  display: block;\\r\\n  color: black;\\r\\n  text-align: center;\\r\\n  padding: 14px;\\r\\n  text-decoration: none;\\r\\n  font-size: 17px;\\r\\n  border: gray solid 0.5px;\\r\\n  border-collapse: collapse;\\r\\n}\\r\\n\\r\\ntable[_ngcontent-%COMP%]{\\r\\n    margin: auto;\\r\\n    width: 70%;   \\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9ob21lL2hvbWUuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiRUFBRTtJQUNFLGtCQUFrQjtJQUNsQixZQUFZO0VBQ2Q7O0VBRUE7SUFDRSxjQUFjO0lBQ2QsVUFBVTtJQUNWLFdBQVc7SUFDWCxpQkFBaUI7RUFDbkI7O0VBRUE7SUFDRSxVQUFVO0lBQ1YsYUFBYTtJQUNiLFVBQVU7SUFDVixhQUFhO0lBQ2Isc0JBQXNCO0VBQ3hCOztFQUVBO0lBQ0UsV0FBVztJQUNYLGFBQWE7SUFDYixVQUFVO0lBQ1YsYUFBYTtJQUNiLHNCQUFzQjtFQUN4Qjs7RUFFQTtJQUNFLGlCQUFpQjtFQUNuQjs7QUFFRjtFQUNFLGNBQWM7RUFDZCxZQUFZO0VBQ1osa0JBQWtCO0VBQ2xCLGFBQWE7RUFDYixxQkFBcUI7RUFDckIsZUFBZTtFQUNmLHdCQUF3QjtFQUN4Qix5QkFBeUI7QUFDM0I7O0FBRUE7SUFDSSxZQUFZO0lBQ1osVUFBVTtBQUNkIiwic291cmNlc0NvbnRlbnQiOlsiICBoMSxoMixoM3tcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgIGNvbG9yOiBibGFjaztcclxuICB9XHJcblxyXG4gICNsZWZ0e1xyXG4gICAgaGVpZ2h0OiAxMDAwcHg7XHJcbiAgICB3aWR0aDogNjAlO1xyXG4gICAgZmxvYXQ6IGxlZnQ7ICAgICAgICBcclxuICAgIHBhZGRpbmctdG9wOiAyMHB4O1xyXG4gIH1cclxuXHJcbiAgI2xlZnQye1xyXG4gICAgZmxvYXQ6bGVmdDtcclxuICAgIGhlaWdodDogNjAwcHg7XHJcbiAgICB3aWR0aDogNjAlO1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgfVxyXG4gIFxyXG4gICNyaWdodDEsI3JpZ2h0MiwjcmlnaHQzLCNyaWdodDR7XHJcbiAgICBmbG9hdDogbGVmdDtcclxuICAgIGhlaWdodDogNDAwcHg7XHJcbiAgICB3aWR0aDogNDAlO1xyXG4gICAgZGlzcGxheTogZmxleDsgICBcclxuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgfVxyXG5cclxuICAjcmlnaHQxe1xyXG4gICAgcGFkZGluZy10b3A6IDIwcHg7XHJcbiAgfVxyXG5cclxuYSB7XHJcbiAgZGlzcGxheTogYmxvY2s7XHJcbiAgY29sb3I6IGJsYWNrO1xyXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICBwYWRkaW5nOiAxNHB4O1xyXG4gIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcclxuICBmb250LXNpemU6IDE3cHg7XHJcbiAgYm9yZGVyOiBncmF5IHNvbGlkIDAuNXB4O1xyXG4gIGJvcmRlci1jb2xsYXBzZTogY29sbGFwc2U7XHJcbn1cclxuXHJcbnRhYmxle1xyXG4gICAgbWFyZ2luOiBhdXRvO1xyXG4gICAgd2lkdGg6IDcwJTsgICBcclxufSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","HomeComponent","constructor","MarketDataService","router","Array","fill","ngOnInit","renderDataTable","receiveMarketData","subscribe","data","filter","dat","trading_code","spinner","dtOptions","dataAvail","renderIndiceGraph","renderIndiceGraph2","renderIndiceGraph3","renderPieChart","renderSectorGraph","getMarketData","receiveDseIndices","getIndices","receiveSectors","getSectorWiseData","someClickHandler","info","console","log","navigate","lengthChange","language","paginate","next","last","first","previous","searchPlaceholder","search","pageLength","columnDefs","width","targets","name","orderable","columns","title","render","type","row","replace","change","scrip","rowCallback","index","self","$","off","on","data1","data2","Object","entries","map","x","y","parseInt","lineGraph","chart","height","zoom","enabled","autoScaleYaxis","series","xaxis","labels","format","colors","gradient","shadeIntensity","inverseColors","opacityFrom","opacityTo","stops","grid","borderColor","lineGraph2","lineGraph3","i","length","categories","colours","pieChart","barGraph","color","stacked","plotOptions","bar","horizontal","dataLabels","total","offsetX","style","fontSize","fontWeight","stroke","yaxis","text","undefined","opacity","legend","position","horizontalAlign","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["E:\\Codes\\semester 5\\stockTech_frontend\\src\\app\\components\\home\\home.component.html","E:\\Codes\\semester 5\\stockTech_frontend\\src\\app\\components\\home\\home.component.ts"],"sourcesContent":["<!DOCTYPE html>\n<div>\n  <h1>Welcome to StockTech!</h1>\n</div>\n<div *ngIf=\"spinner\" id=\"left\">\n</div>\n<div *ngIf=\"!spinner\" id=\"left\">\n  <h3>Company Data</h3>\n  <table datatable [dtOptions]=\"dtOptions\" class=\"hover\" ></table>\n</div>\n\n\n<div id=\"right1\">\n  <h3>DSEX</h3>\n  <apx-chart [series]=\"lineGraph.series\" [chart]=\"lineGraph.chart\" \n  [xaxis]=\"lineGraph.xaxis\"></apx-chart>\n</div>\n\n\n<div id=\"right2\">\n  <h3>DSES</h3>\n  <apx-chart [series]=\"lineGraph2.series\" [chart]=\"lineGraph2.chart\" \n  [xaxis]=\"lineGraph2.xaxis\"></apx-chart>\n</div>\n\n<div id=\"right3\">\n  <h3>DS30</h3>\n  <apx-chart [series]=\"lineGraph3.series\" [chart]=\"lineGraph3.chart\" \n  [xaxis]=\"lineGraph3.xaxis\"></apx-chart>\n</div>\n<div id=\"left2\">\n  <h3>Sector wise data</h3>\n  <apx-chart [series]=\"barGraph.series\" [chart]=\"barGraph.chart\" [xaxis]=\"barGraph.xaxis\" [stroke]=\"barGraph.stroke\"\n  [tooltip]=\"barGraph.tooltip\" [dataLabels]=\"barGraph.dataLabels\" [legend]=\"barGraph.legend\"\n  [markers]=\"barGraph.markers\" [grid]=\"barGraph.grid\" [yaxis]=\"barGraph.yaxis\" [fill]=\"barGraph.fill\"\n  [title]=\"barGraph.title\" [plotOptions]=\"barGraph.plotOptions\"></apx-chart>\n  </div>\n<div id=\"right4\">\n  <h3>Gainer-Loser Ratio</h3>\n  <apx-chart [series]=\"pieChart.series\" [chart]=\"pieChart.chart\" [labels]=\"pieChart.labels\"\n  [xaxis]=\"pieChart.xaxis\" [colors]=\"pieChart.colors\"></apx-chart>\n</div>\n\n","import { Component, OnInit } from '@angular/core';\nimport { MarketDataService } from 'src/app/services/market-data.service';\nimport { company, sector } from 'src/app/services/market-data.service';\nimport { Observable } from 'rxjs';\nimport {\n  ApexAxisChartSeries,\n  ApexChart,\n  ApexDataLabels,\n  ApexPlotOptions,\n  ApexYAxis,\n  ApexLegend,\n  ApexStroke,\n  ApexXAxis,\n  ApexFill,\n  ApexTooltip,\n} from 'ng-apexcharts';\nimport { Router } from '@angular/router';\n\n\nexport type ChartOptions = {\n  series: ApexAxisChartSeries;\n  chart: ApexChart;\n  dataLabels: ApexDataLabels;\n  plotOptions: ApexPlotOptions;\n  yaxis: ApexYAxis;\n  xaxis: ApexXAxis;\n  fill: ApexFill;\n  tooltip: ApexTooltip;\n  stroke: ApexStroke;\n  legend: ApexLegend;\n};\n\n@Component({\n  selector: 'app-home',\n  templateUrl: './home.component.html',\n  styleUrls: ['./home.component.css'],\n})\nexport class HomeComponent implements OnInit {\n\n  dtOptions: DataTables.Settings = {};\n  dataAvail = true;\n  public spinner: boolean = true;\n  y: number[] = Array(3).fill(0);\n  public search: string = '';\n  public lineGraph: Partial<ChartOptions> | any;\n  public lineGraph2: Partial<ChartOptions> | any;\n  public lineGraph3: Partial<ChartOptions> | any;\n  public pieChart: Partial<ChartOptions> | any;\n  public barGraph: Partial<ChartOptions> | any;\n\n  constructor(private MarketDataService: MarketDataService, private router: Router) { }\n\n\n  ngOnInit(): void {\n    this.renderDataTable();\n    this.receiveMarketData().subscribe((data) => {\n      data = data.filter(function (dat: any) {\n        return dat.trading_code != '';\n      });\n      this.spinner = false;\n      this.dtOptions.data = data;\n      this.dataAvail = true;\n    });\n\n\n    this.renderIndiceGraph(\"dsex\");\n    this.renderIndiceGraph2(\"dses\");\n    this.renderIndiceGraph3(\"ds30\");\n    this.renderPieChart();\n    this.renderSectorGraph();\n\n  }\n\n  receiveMarketData(): Observable<any> {\n    return this.MarketDataService.getMarketData();\n  }\n\n  receiveDseIndices(): Observable<any> {\n    return this.MarketDataService.getIndices();\n\n  }\n  receiveSectors(): Observable<any> {\n    return this.MarketDataService.getSectorWiseData();\n\n  }\n  someClickHandler(info: any): void {\n    console.log(info.trading_code);\n    this.router.navigate([\"companyProfile/\" + info.trading_code]);\n  }\n\n\n  renderDataTable(): void {\n    this.dtOptions = {\n      lengthChange: false,\n      language: {\n        paginate: { next: '>', last: 'Last', first: 'First', previous: '<' },\n        searchPlaceholder: \"Search...\",\n        search: \"\"\n      },\n      pageLength: 20,\n      columnDefs: [\n        { width: '30em', targets: [0, 1, 2, 3, 4] },\n        { name: 'some name', targets: 0 },\n        { orderable: true, targets: [0, 1] },\n      ],\n\n      columns: [\n        {\n          title: 'CODE', data: 'trading_code',\n          render: function (data, type, row) {\n            row.trading_code = row.trading_code.replace(/ /g, '-');\n            if (type === 'display') {\n              if (row.change < 0) {\n                data =\n                  '<a style=\"color:red;\" href=\"' +\n                  row.scrip +\n                  '/' +\n                  row.trading_code +\n                  '\">' +\n                  data +\n                  '</a>';\n              } else if (row.change == 0) {\n                data =\n                  '<a style=\"color:#2a76e8;\" href=\"' +\n                  row.scrip +\n                  '/' +\n                  row.trading_code +\n                  '\">' +\n                  data +\n                  '</a>';\n              } else {\n                data =\n                  '<a style=\"color:green;\" href=\"' +\n                  row.scrip +\n                  '/' +\n                  row.trading_code +\n                  '\">' +\n                  data +\n                  '</a>';\n              }\n            }\n\n            return data;\n          },\n        },\n        { title: 'LTP', data: 'ltp' },\n        { title: 'CLOSEP', data: 'closep' },\n        { title: 'CHANGE', data: 'change',\n          render: function (data, type, row) {\n            if (type === 'display') {\n              if (row.change < 0) {\n                data = '<span style=\"color:red;\">' + data + '</span>';\n              } else if (row.change == 0) {\n                data = '<span style=\"color:#2a76e8;\">' + data + '</span>';\n              } else {\n                data = '<span style=\"color:green;\">' + data + '</span>';\n              }\n            }\n\n            return data;\n          },\n        },\n        { title: 'YCP', data: 'ycp' },\n      ],\n      rowCallback: (row: Node, data: any[] | Object, index: number) => {\n        const self = this;\n\n        $('td', row).off('click');\n        $('td', row).on('click', () => {\n          self.someClickHandler(data);\n        });\n      \n        return row;\n      }\n    }\n  }\n\n  renderIndiceGraph(index: string): void {\n\n    this.receiveDseIndices().subscribe((data1) => {\n      const data2 = data1[index];\n      const data = Object.entries(data2).map(([x, y]) => ({ x: parseInt(x), y: y }));\n\n      this.lineGraph = {\n        chart: {\n          type: 'area',\n          height: '140%',\n          width: '100%',\n          zoom: {\n            type: 'x',\n            enabled: true,\n            autoScaleYaxis: true,\n          },\n        },\n        // title: {\n        //   text: index,\n        //   align: 'center',\n        // },\n        series: [{\n          name: 'Index',\n          data: data,\n        }],\n        xaxis: {\n          type: 'datetime',\n          labels: {\n            format: 'h:mm',\n          }\n        },\n        fill: {\n          colors: ['#ffffff'],\n          type: 'gradient',\n          gradient: {\n            shadeIntensity: 1,\n            inverseColors: false,\n            opacityFrom: 0.7,\n            opacityTo: 0.6,\n            stops: [0, 90, 100],\n          },\n        },\n        grid: {\n          borderColor: '#f1f1f1',\n        },\n\n      };\n      this.lineGraph.render();\n\n    })\n  }\n\n  renderIndiceGraph2(index: string): void {\n\n    this.receiveDseIndices().subscribe((data1) => {\n      const data2 = data1[index];\n      const data = Object.entries(data2).map(([x, y]) => ({ x: parseInt(x), y: y }));\n      this.lineGraph2 = {\n        chart: {\n          type: 'area',\n          height: '140%',\n          width: '100%',\n          zoom: {\n            type: 'x',\n            enabled: true,\n            autoScaleYaxis: true,\n          },\n        },\n        series: [{\n          name: 'Index',\n          data: data,\n        }],\n        xaxis: {\n          type: 'datetime',\n          labels: {\n            format: 'h:mm',\n          }\n        },\n      };\n      this.lineGraph.render();\n    })\n  }\n\n  renderIndiceGraph3(index: string): void {\n\n    this.receiveDseIndices().subscribe((data1) => {\n      const data2 = data1[index]\n\n      const data = Object.entries(data2).map(([x, y]) => ({ x: parseInt(x), y: y }));\n\n      this.lineGraph3 = {\n        chart: {\n          type: 'area',\n          height: '140%',\n          width: '100%',\n          zoom: {\n            type: 'x',\n            enabled: true,\n            autoScaleYaxis: true,\n          },\n        },\n        series: [{\n          name: 'Index',\n          data: data,\n        }],\n        xaxis: {\n          type: 'datetime',\n          labels: {\n            format: 'h:mm',\n          }\n        },\n      };\n      this.lineGraph.render();\n\n    })\n  }\n\n  renderPieChart(): void {\n    this.receiveMarketData().subscribe((data: company[]) => {\n      for (let i = 0; i < data.length; i++) {\n        if (data[i].change > 0) {\n          this.y[0]++;\n        }\n        else if (data[i].change < 0) {\n          this.y[1]++;\n        }\n        else { this.y[2]++; }\n      }\n\n      const categories = ['Gainers', 'Losers', 'Neutral'];\n      const colours = ['#0B6623', '#d32f2f', '#00008B'];\n      console.log(this.y);\n      this.pieChart = {\n        chart: {\n          type: 'donut',\n          height: '180%',\n          width: '100%',\n        },\n        series: this.y,\n        labels: categories,\n        colors: colours\n      };\n    })\n  }\n\n\n\n\n  renderSectorGraph(): void {\n    this.receiveSectors().subscribe((data1) => {\n\n\n      this.barGraph = {\n        series: [{\n          name: 'Gainer',\n          data: data1[\"Winner\"],\n          color: '#0B6623',\n\n        }, {\n          name: 'Loser',\n          data: data1[\"Loser\"],\n          color: '#d32f2f',\n\n        }, {\n          name: 'Neutral',\n          data: data1[\"Neutral\"],\n          color: '#2196f3',\n\n\n        }],\n        chart: {\n          type: 'bar',\n          height: 500,\n          stacked: true,\n        },\n        plotOptions: {\n          bar: {\n            horizontal: true,\n            dataLabels: {\n              total: {\n                enabled: true,\n                offsetX: 0,\n                style: {\n                  fontSize: '13px',\n                  fontWeight: 900,\n\n                },\n              },\n            },\n\n          },\n        },\n        stroke: {\n          width: 1,\n          colors: ['#fff']\n        },\n\n        xaxis: {\n          categories: data1[\"Category\"],\n\n\n        },\n        yaxis: {\n          title: {\n            text: undefined\n          },\n\n        },\n\n        fill: {\n          opacity: 1,\n          colors: ['#0B6623', '#d32f2f', '#2196f3']// set colors for each series,\n        },\n        legend: {\n          position: 'top',\n          horizontalAlign: 'left',\n          offsetX: 40,\n        },\n      };\n      this.barGraph.render();\n    })\n  }\n}"]},"metadata":{},"sourceType":"module","externalDependencies":[]}